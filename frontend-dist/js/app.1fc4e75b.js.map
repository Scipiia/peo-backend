{"version":3,"file":"js/app.1fc4e75b.js","mappings":"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","sources":["webpack://frontend/./src/App.vue","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/components/OrdersList.vue","webpack://frontend/./src/components/OrdersList.vue?453b","webpack://frontend/./src/components/FormSendPeo.vue","webpack://frontend/./src/components/FormSendPeo.vue?bd19","webpack://frontend/./src/components/OrdersDetails.vue","webpack://frontend/./src/components/OrdersDetails.vue?c1fa","webpack://frontend/./src/components/AddictionOperation.vue","webpack://frontend/./src/components/AddictionOperation.vue?30cd","webpack://frontend/./src/components/PrintNormOrder.vue","webpack://frontend/./src/components/PrintNormOrder.vue?a1ed","webpack://frontend/./src/components/NormOrdersList.vue","webpack://frontend/./src/components/NormOrdersList.vue?4a02","webpack://frontend/./src/components/EditNormOrder.vue","webpack://frontend/./src/components/EditNormOrder.vue?5a86","webpack://frontend/./src/components/AssignWorkers.vue","webpack://frontend/./src/components/AssignWorkers.vue?e4e2","webpack://frontend/./src/components/EditProductModal.vue","webpack://frontend/./src/components/EditProductModal.vue?57cd","webpack://frontend/./src/components/SummaryStats.vue","webpack://frontend/./src/components/SummaryStats.vue?8c79","webpack://frontend/./src/components/FinalNormOrdersList.vue","webpack://frontend/./src/components/FinalNormOrdersList.vue?f1b7","webpack://frontend/./src/components/admin/AdminPanel.vue","webpack://frontend/./src/components/admin/AdminPanel.vue?bfc2","webpack://frontend/./src/components/admin/AdminTemplates.vue","webpack://frontend/./src/components/admin/AdminTemplates.vue?0af6","webpack://frontend/./src/components/admin/AdminEditDataPeo.vue","webpack://frontend/./src/components/admin/AdminEditDataPeo.vue?6750","webpack://frontend/./src/components/admin/AdminTemplateEdit.vue","webpack://frontend/./src/components/admin/AdminTemplateEdit.vue?f45b","webpack://frontend/./src/components/admin/AdminTemplateCreate.vue","webpack://frontend/./src/components/admin/AdminTemplateCreate.vue?4da6","webpack://frontend/./src/router/index.js","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/compat get default export","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/make namespace object","webpack://frontend/webpack/runtime/publicPath","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <!--   (   ) -->\r\n    <nav class=\"navbar no-print\">\r\n      <div class=\"nav-container\">\r\n        <div class=\"nav-logo\">\r\n          <img src=\"../public/logo_pasport_new.jpg\" alt=\" NormApp\" class=\"logo-img\" />\r\n          <span></span>\r\n        </div>\r\n        <ul class=\"nav-menu\">\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/orders\" class=\"nav-link\">  </router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/norm/orders/\" class=\"nav-link\"> </router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/final/orders/\" class=\"nav-link\">  </router-link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n\r\n    <!--   -->\r\n    <main class=\"main-content\">\r\n      <router-view></router-view>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App'\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n  background-color: #f5f7fa;\r\n  color: #333;\r\n  line-height: 1.6;\r\n}\r\n\r\n#app {\r\n  max-width: 1600px;\r\n  margin: 0 auto;\r\n  padding: 0 16px;\r\n  text-align: center;\r\n}\r\n\r\n.navbar {\r\n  background-color: #2c3e50;\r\n  padding: 0;\r\n  margin-bottom: 24px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.nav-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 0 16px;\r\n}\r\n\r\n.nav-logo {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  color: #ffffff;\r\n  font-weight: bold;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.logo-img {\r\n  height: 40px;\r\n  width: auto;\r\n  border-radius: 6px;\r\n}\r\n\r\n.nav-menu {\r\n  list-style: none;\r\n  display: flex;\r\n  gap: 24px;\r\n  margin: 0;\r\n  padding: 12px 0;\r\n}\r\n\r\n.nav-item {\r\n  transition: transform 0.1s ease;\r\n}\r\n\r\n.nav-item:hover {\r\n  transform: translateY(-1px);\r\n}\r\n\r\n/*  */\r\n.nav-link {\r\n  color: #ffffffcc;\r\n  text-decoration: none;\r\n  font-size: 0.96rem;\r\n  font-weight: 500;\r\n  padding: 6px 10px;\r\n  border-radius: 6px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.nav-link:hover {\r\n  color: #ffffff;\r\n  background-color: rgba(255, 255, 255, 0.15);\r\n}\r\n\r\n/*   (  ) */\r\n.nav-link.router-link-exact-active {\r\n  color: #ffffff;\r\n  background-color: #42b983;\r\n  font-weight: 600;\r\n}\r\n\r\n/*   */\r\n.main-content {\r\n  text-align: left;\r\n  min-height: calc(100vh - 100px);\r\n}\r\n\r\n/*      */\r\n@media print {\r\n  .no-print {\r\n    display: none !important;\r\n  }\r\n\r\n  body, #app {\r\n    background: white;\r\n    margin: 0;\r\n    padding: 1cm;\r\n    font-size: 12pt;\r\n  }\r\n\r\n  .main-content {\r\n    margin-top: 0;\r\n  }\r\n\r\n  @page {\r\n    margin: 1cm;\r\n  }\r\n}\r\n\r\n/*  ( ) */\r\n@media (max-width: 768px) {\r\n  .nav-container {\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    padding: 12px 16px;\r\n  }\r\n\r\n  .nav-menu {\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    padding: 8px 0;\r\n  }\r\n\r\n  .nav-link {\r\n    font-size: 0.9rem;\r\n    padding: 5px 9px;\r\n  }\r\n\r\n  .nav-logo {\r\n    margin-bottom: 8px;\r\n  }\r\n}\r\n</style>","import { render } from \"./App.vue?vue&type=template&id=39c81771\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=39c81771&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"orders-page\">\r\n    <h1></h1>\r\n\r\n    <!--  -->\r\n    <div class=\"filters\">\r\n      <div>\r\n        <label>:</label>\r\n        <input v-model.number=\"year\" type=\"number\" min=\"2020\" max=\"2030\" />\r\n      </div>\r\n\r\n      <div>\r\n        <label>:</label>\r\n        <select v-model=\"month\">\r\n          <option v-for=\"(name, index) in months\" :key=\"index + 1\" :value=\"index + 1\">\r\n            {{ name }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n        <label>:</label>\r\n        <input v-model=\"search\" placeholder=\"  ...\" />\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-if=\"orders && orders.length > 0\" class=\"table-container\">\r\n      <table>\r\n        <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th></th>\r\n          <th></th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr\r\n            v-for=\"order in orders\"\r\n            :key=\"order.id\"\r\n            @click=\"viewOrderDetails(order)\"\r\n            style=\"cursor: pointer;\"\r\n        >\r\n          <td>{{ order.order_num }}</td>\r\n          <td>{{ order.customer }}</td>\r\n          <td>{{ order.ms_note }}</td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div v-else-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</div>\r\n    <div v-else class=\"no-orders\">  </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, watch } from 'vue';\r\nimport axios from \"axios\";\r\nimport { useRouter } from 'vue-router';\r\n\r\nconst router = useRouter();\r\nconst orders = ref([]);\r\nconst errorMessage = ref('');\r\n\r\n// \r\nconst year = ref(new Date().getFullYear());\r\nconst month = ref(new Date().getMonth() + 1);\r\nconst search = ref(''); //    order_num\r\n\r\n//  \r\nconst months = [\r\n  '', '', '', '', '', '',\r\n  '', '', '', '', '', ''\r\n];\r\n\r\n//    \r\nonMounted(() => {\r\n  fetchOrders();\r\n});\r\n\r\n//   \r\nasync function fetchOrders() {\r\n  try {\r\n    orders.value = [];\r\n    errorMessage.value = '';\r\n\r\n    const params = {};\r\n\r\n    //        \r\n    if (search.value) {\r\n      params.search = search.value;\r\n      //   ,   ,   \r\n      // params.globalSearch = true;\r\n    } else {\r\n      //    \r\n      params.year = year.value;\r\n      params.month = month.value;\r\n    }\r\n\r\n    //TODO     \r\n    const response = await axios.get('/api/orders', {params});\r\n\r\n    if (response.data.error) {\r\n      errorMessage.value = response.data.error;\r\n    } else {\r\n      orders.value = response.data.orders;\r\n    }\r\n  } catch (error) {\r\n    errorMessage.value = '   .';\r\n    console.error(error);\r\n  }\r\n}\r\n\r\n//      \r\nwatch([year, month, search], () => {\r\n  fetchOrders();\r\n});\r\n\r\n//   \r\nfunction viewOrderDetails(order) {\r\n  router.push(\r\n      { name: 'OrdersDetails',\r\n        params: { orderNum: order.order_num }\r\n      });\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.orders-page {\r\n  padding: 20px;\r\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n}\r\n\r\nh1 {\r\n  color: #333;\r\n  margin-bottom: 20px;\r\n  font-weight: 500;\r\n}\r\n\r\n/*    */\r\n.filters {\r\n  display: flex;\r\n  gap: 15px;\r\n  align-items: center;\r\n  margin-bottom: 24px;\r\n  flex-wrap: wrap;\r\n  background-color: #f9f9f9;\r\n  padding: 16px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.filters label {\r\n  font-size: 14px;\r\n  color: #555;\r\n  min-width: 50px;\r\n}\r\n\r\n.filters input,\r\n.filters select {\r\n  padding: 8px 12px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  outline: none;\r\n  transition: border-color 0.2s ease;\r\n}\r\n\r\n.filters input:focus,\r\n.filters select:focus {\r\n  border-color: #4299e1;\r\n  box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.2);\r\n}\r\n\r\n.filters input[type=\"number\"] {\r\n  width: 100px;\r\n}\r\n\r\n.filters input[type=\"text\"] {\r\n  width: 180px;\r\n}\r\n\r\n*,\r\n*::before,\r\n*::after {\r\n  box-sizing: border-box;\r\n}\r\n\r\n/*  */\r\n.table-container {\r\n  overflow-x: auto;\r\n  border-radius: 8px;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\r\n  margin-bottom: 20px;\r\n  table-layout: fixed;\r\n  width: 100%;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  background-color: #fff;\r\n  font-size: 14px;\r\n}\r\n\r\nth {\r\n  background-color: #4299e1;\r\n  color: white;\r\n  text-align: left;\r\n  padding: 12px 16px;\r\n  font-weight: 500;\r\n}\r\n\r\ntd {\r\n  padding: 12px 16px;\r\n  border-bottom: 1px solid #ddd;\r\n  color: #333;\r\n}\r\n\r\ntr:hover {\r\n  background-color: #f1f7ff;\r\n  cursor: pointer;\r\n}\r\n\r\n/*  */\r\n.error {\r\n  color: #e53e3e;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  padding: 20px;\r\n  background-color: #fee;\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.no-orders {\r\n  text-align: center;\r\n  color: #777;\r\n  font-size: 16px;\r\n  padding: 40px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  border: 1px dashed #ccc;\r\n}\r\n</style>","import script from \"./OrdersList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrdersList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OrdersList.vue?vue&type=style&index=0&id=3ea6b7ca&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3ea6b7ca\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"form-container\">\r\n    <h2>    {{ cardInfo.name }}</h2>\r\n\r\n    <!--    -->\r\n    <div class=\"card-info\">\r\n      <p><strong> :</strong> {{ cardInfo.order_num }}</p>\r\n      <p><strong>:</strong> {{ cardInfo.position }}</p>\r\n      <p><strong>:</strong> {{ cardInfo.count }}</p>\r\n      <p><strong>:</strong> {{ cardInfo.color }}</p>\r\n      <p><strong>:</strong> {{ cardInfo.sqr }} </p>\r\n      <!--  -->\r\n      <div v-if=\"cardInfo.image\" class=\"image-preview-container\">\r\n        <img\r\n            :src=\"`data:image/png;base64,${cardInfo.image}`\"\r\n            alt=\" \"\r\n            class=\"order-image clickable\"\r\n            @click=\"showImageModal = true\"\r\n            title=\",  \"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!--      -->\r\n    <div\r\n        v-if=\"showImageModal\"\r\n        class=\"image-modal\"\r\n        @click=\"showImageModal = false\"\r\n    >\r\n      <div class=\"modal-content\" @click.stop>\r\n        <img\r\n            :src=\"`data:image/png;base64,${cardInfo.image}`\"\r\n            alt=\" \"\r\n            class=\"enlarged-image\"\r\n        />\r\n        <button class=\"close-btn\" @click=\"showImageModal = false\">&times;</button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- :    -->\r\n    <div class=\"composite-toggle\">\r\n      <label>\r\n        <input type=\"checkbox\" v-model=\"isComposite\" />\r\n             (  (  )  )\r\n      </label>\r\n    </div>\r\n\r\n    <!--    ( ) -->\r\n    <div class=\"parent-selection\" v-if=\"isComposite\">\r\n      <label><strong> :</strong></label>\r\n      <select v-model=\"selectedParentId\" class=\"form-control\" required>\r\n        <option value=\"\" disabled>  ...</option>\r\n        <option\r\n            v-for=\"parent in availableParents\"\r\n            :key=\"parent.id\"\r\n            :value=\"parent.id\"\r\n        >\r\n          {{ parent.name }}\r\n        </option>\r\n      </select>\r\n      <p v-if=\"availableParents.length === 0\" class=\"text-muted\">\r\n           .    (,   ..).\r\n      </p>\r\n      <div class=\"parent-selection\">\r\n        <!--  \"  \" -->\r\n        <label class=\"form-control\"><strong>  :</strong></label>\r\n        <select\r\n            v-model=\"selectedPartDetail\"\r\n            class=\"form-custom-select\"\r\n        >\r\n          <option value=\"\">  </option>\r\n          <option value=\" \"> </option>\r\n        </select>\r\n\r\n        <!--  \"\" -->\r\n        <label class=\"form-control\"><strong>:</strong></label>\r\n        <select\r\n            v-model=\"selectedName\"\r\n            class=\"form-custom-select\"\r\n        >\r\n          <option value=\"\">  </option>\r\n          <option value=\"  \">  </option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n\r\n    <!--    -->\r\n    <div class=\"forms-section\">\r\n      <h4>  </h4>\r\n      <div\r\n          v-for=\"(templates, category) in groupedTemplates\"\r\n          :key=\"category\"\r\n          class=\"category-group\"\r\n      >\r\n        <h5 class=\"category-title\">{{ categoryLabels[category] }}</h5>\r\n        <ul class=\"templates-list\">\r\n          <li\r\n              v-for=\"tpl in templates\"\r\n              :key=\"tpl.code\"\r\n              @click=\"loadForm(tpl)\"\r\n              class=\"template-item\"\r\n              :class=\"{ selected: selectedTemplate === tpl.code }\"\r\n          >\r\n            {{ tpl.name }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <!--   -->\r\n    <div v-if=\"fullForm\" class=\"full-form\">\r\n      <h3>{{ fullForm.name }}</h3>\r\n\r\n\r\n      <!--   -->\r\n      <div class=\"part-type-badge\">\r\n        : <strong>{{ fullForm.part_type === 'main' ? ' ' : ' ' }}</strong>\r\n        <span v-if=\"fullForm.parent_product_id\">\r\n          (   ID={{ fullForm.parent_product_id }})\r\n        </span>\r\n      </div>\r\n\r\n      <!--   -->\r\n      <table class=\"norm-table\">\r\n        <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th> ()</th>\r\n          <th>-</th>\r\n          <th> ()</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"(item, index) in fullForm.operations\" :key=\"item.name\">\r\n          <td>{{ item.label }}</td>\r\n          <td>\r\n            <input\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                min=\"0\"\r\n                :value=\"item.dynamicValue\"\r\n                class=\"input-small\"\r\n                @input=\"updateValue(index, $event.target.value)\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n                type=\"number\"\r\n                step=\"1\"\r\n                min=\"0\"\r\n                :value=\"item.count\"\r\n                class=\"input-small\"\r\n                :disabled=\"item.group === 'ign'\"\r\n                @input=\"updateCount(index, $event.target.value)\"\r\n            />\r\n          </td>\r\n          <td class=\"text-center\">{{ item.minutes }}</td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <!--      -->\r\n      <div class=\"custom-operations-input\">\r\n        <h4> </h4>\r\n        <table class=\"norm-table\">\r\n          <thead>\r\n          <tr>\r\n            <th> </th>\r\n            <th>()</th>\r\n            <th>()</th>\r\n            <th style=\"width: 40px\"></th> <!--     -->\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          <tr v-for=\"(row, idx) in customInputs\" :key=\"idx\">\r\n            <td>\r\n              <input\r\n                  v-model=\"row.name\"\r\n                  type=\"text\"\r\n                  placeholder=\"\"\r\n                  class=\"input-small wide\"\r\n              />\r\n            </td>\r\n            <td>\r\n              <input\r\n                  v-model.number=\"row.minutes\"\r\n                  type=\"number\"\r\n                  step=\"0.001\"\r\n                  min=\"0\"\r\n                  class=\"input-small\"\r\n              />\r\n            </td>\r\n            <td class=\"text-center\">\r\n              {{ ((row.minutes || 0) / 60).toFixed(3) }}\r\n            </td>\r\n            <td>\r\n              <button\r\n                  v-if=\"customInputs.length > 1\"\r\n                  type=\"button\"\r\n                  class=\"btn-remove\"\r\n                  @click=\"removeCustomInputRow(idx)\"\r\n                  title=\"\"\r\n              >\r\n                &minus;\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n        <button type=\"button\" class=\"btn-add-row\" @click=\"addCustomInputRow\">\r\n           \r\n        </button>\r\n      </div>\r\n\r\n      <!--   -->\r\n      <div class=\"total-summary\">\r\n        <strong> :</strong>\r\n        {{ totalHours }}  ({{ totalMinutes }} )\r\n      </div>\r\n\r\n      <div v-if=\"calculationContext\" class=\"calculation-info\">\r\n        <small>   : {{ calculationContext.ImpostCount }}</small>\r\n        <small>  400   : {{ calculationContext.StvTCount400 }}</small>\r\n        <small>  615   : {{ calculationContext.StvTCount600 }}</small>\r\n        <small>  : {{ calculationContext.MnogozapZamok }}</small>\r\n        <small>T  : {{ calculationContext.Petli3Section }}</small>\r\n        <small>  : {{ calculationContext.StvorkiWith3Petli }}</small>\r\n        <small>  : {{ calculationContext.PetliRolik }}</small>\r\n        <small>  : {{ calculationContext.PetliStand }}</small>\r\n        <small>RDRH  : {{ calculationContext.PetliRDRH }}</small>\r\n        <small>Fural  : {{ calculationContext.PetliFural }}</small>\r\n        <small>: {{ calculationContext.PritvorKP40 }}</small>\r\n        <small> stublina : {{ calculationContext.StublinaCount }}</small>\r\n      </div>\r\n\r\n      <!--   -->\r\n      <div class=\"form-actions\">\r\n        <button\r\n            type=\"button\"\r\n            class=\"multiply-count-btn\"\r\n            @click=\"multiplyAllCounts()\"\r\n        >\r\n            -  ({{ cardInfo.count }})\r\n        </button>\r\n        <button\r\n            type=\"button\"\r\n            @click=\"recalculateNorms\"\r\n            :disabled=\"!selectedTemplate || loading\"\r\n            class=\"btn-recalculate\"\r\n        >\r\n             \r\n        </button>\r\n        <button @click=\"saveNormirovka\" :disabled=\"loading\" class=\"btn-save\">\r\n          {{ loading ? '...' : ' ' }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed, watch } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport router from \"@/router\";\r\n\r\nconst route = useRoute();\r\n\r\n// ---   sessionStorage ---\r\nconst storageKey = `orderDetail_${route.params.orderNum}_${route.params.position}`;\r\n\r\n// ---   ---\r\nconst cardInfo = ref({\r\n  order_num: '',\r\n  name: '',\r\n  count: 0,\r\n  color: ' ',\r\n  image: '',\r\n  sqr: 0,\r\n  position: ''\r\n});\r\n\r\n// ---  :   sessionStorage,   query ---\r\nonMounted(() => {\r\n  //    sessionStorage\r\n  const saved = sessionStorage.getItem(storageKey);\r\n  if (saved) {\r\n    try {\r\n      const data = JSON.parse(saved);\r\n      cardInfo.value = { ...data };\r\n      return;\r\n    } catch (e) {\r\n      console.error('    sessionStorage:', e);\r\n    }\r\n  }\r\n\r\n  // 2.      query\r\n  const fromQuery = {\r\n    order_num: route.query.orderNum || '',  //  orderNum,   order_num\r\n    name: route.query.name || '',\r\n    count: parseInt(route.query.count) || 1,\r\n    color: route.query.color || ' ',\r\n    customer: route.query.customer || ' ',\r\n    sqr: parseFloat(route.query.sqr) || 0,\r\n    position: route.query.position || '',\r\n    image: route.query.image || ''\r\n  };\r\n\r\n  //      \r\n  sessionStorage.setItem(storageKey, JSON.stringify(fromQuery));\r\n  cardInfo.value = fromQuery;\r\n\r\n  //  URL   \r\n  const cleanQuery = { ...route.query };\r\n  delete cleanQuery.image;\r\n\r\n  //  URL  \r\n  window.history.replaceState(\r\n      {},\r\n      '',\r\n      `${location.pathname}?${new URLSearchParams(cleanQuery).toString()}`\r\n  );\r\n});\r\n\r\n// ---   ---\r\nconst allTemplates = ref([]);\r\nconst fullForm = ref(null);\r\nconst loading = ref(false);\r\nconst showPrintButton = ref(false);\r\n\r\n// ---   ---\r\nconst isComposite = ref(false);\r\nconst selectedParentId = ref(null);\r\nconst availableParents = ref([]);\r\nconst lastRootId = ref(null); //   ID   \r\nconst selectedTemplate = ref(null);\r\nconst showImageModal = ref(false);\r\n\r\n//   \r\nconst selectedPartDetail = ref('');\r\nconst selectedName = ref('');\r\n\r\n// ---   ---\r\nconst categoryLabels = {\r\n  window: '',\r\n  glyhar: '',\r\n  loggia: '',\r\n  vitrage: '',\r\n  door: '',\r\n};\r\n\r\n// ---       ---\r\nwatch(isComposite, async (newValue) => {\r\n  if (newValue && cardInfo.value.order_num) {\r\n    try {\r\n      const res = await fetch(`/api/orders/order-norm/by-order?order_num=${cardInfo.value.order_num}`);\r\n      if (res.ok) {\r\n        const allItems = await res.json();\r\n        //     (   )\r\n        availableParents.value = allItems.filter(item => item.part_type === 'main');\r\n      } else {\r\n        availableParents.value = [];\r\n      }\r\n    } catch (err) {\r\n      console.error('  :', err);\r\n      availableParents.value = [];\r\n    }\r\n  } else {\r\n    selectedParentId.value = null;\r\n  }\r\n});\r\n\r\nconst groupedTemplates = computed(() => {\r\n  const groups = {};\r\n  const categories = Object.keys(categoryLabels);\r\n  categories.forEach(cat => {\r\n    groups[cat] = [];\r\n  });\r\n\r\n  allTemplates.value?.Template?.forEach(tpl => {\r\n    const cat = tpl.category?.toLowerCase().trim();\r\n    if (categories.includes(cat)) {\r\n      groups[cat].push(tpl);\r\n    }\r\n  });\r\n\r\n  //   \r\n  Object.keys(groups).forEach(key => {\r\n    if (groups[key].length === 0) delete groups[key];\r\n  });\r\n\r\n  return groups;\r\n});\r\n\r\n// ---   ---\r\nonMounted(async () => {\r\n  try {\r\n    const res = await fetch('/api/all_templates');\r\n    if (!res.ok) throw new Error('   ');\r\n    allTemplates.value = await res.json();\r\n  } catch (err) {\r\n    console.error('  :', err);\r\n    alert('   .  .');\r\n  }\r\n});\r\n\r\n// ---    ---\r\nconst totalHours = computed(() => {\r\n  //  \r\n  const baseTotal = fullForm.value?.operations?.reduce((sum, op) => {\r\n    return typeof op.dynamicValue === 'number' ? sum + op.dynamicValue : sum;\r\n  }, 0) || 0;\r\n\r\n  // . : value     , count  \r\n  const customTotal = customInputs.value.reduce((sum, row) => {\r\n    if (!row.name?.trim()) return sum; //  \r\n    const val = row.minutes / 60|| 0;\r\n    //const cnt = parseInt(row.count) || 1;\r\n    return sum + val;\r\n  }, 0);\r\n\r\n  return (baseTotal + customTotal).toFixed(3);\r\n});\r\n\r\nconst totalMinutes = computed(() => {\r\n  return Math.round(parseFloat(totalHours.value) * 60);\r\n});\r\n\r\n\r\n// ---      ---\r\n//   Value \r\nfunction updateValue(index, newValueStr) {\r\n  const newValue = parseFloat(newValueStr);\r\n  if (isNaN(newValue)) return;\r\n\r\n  const item = fullForm.value.operations[index];\r\n  item.dynamicValue = newValue;\r\n\r\n  //  rate:    \r\n  if (item.count > 0) {\r\n    item.rate = newValue / item.count;\r\n  } else {\r\n    //  count = 0,    rate    newValue\r\n    item.rate = newValue; //  0     \r\n  }\r\n\r\n  item.minutes = Number(item.dynamicValue * 60).toFixed(1);\r\n}\r\n\r\nfunction updateCount(index, newCountStr) {\r\n  const newCount = parseFloat(newCountStr);\r\n  if (isNaN(newCount)) return;\r\n\r\n  const item = fullForm.value.operations[index];\r\n\r\n  //  count   \r\n  item.count = newCount;\r\n\r\n  //  \r\n  const group = item.group;\r\n\r\n  //          \r\n  if (!group) {\r\n    item.dynamicValue = newCount * item.rate;\r\n    item.minutes = parseFloat((item.dynamicValue * 60).toFixed(1));\r\n    return;\r\n  }\r\n\r\n  //      \r\n  const operationsInGroup = fullForm.value.operations.filter(op => op.group === group);\r\n\r\n  //     \r\n  operationsInGroup.forEach(op => {\r\n    op.count = newCount; //  \r\n    op.dynamicValue = newCount * op.rate;\r\n    op.minutes = parseFloat((op.dynamicValue * 60).toFixed(1));\r\n  });\r\n}\r\n\r\nfunction multiplyAllCounts() {\r\n  const multiplier = parseInt(cardInfo.value?.count) || 1;\r\n\r\n  if (!fullForm.value?.operations) return;\r\n\r\n  fullForm.value.operations.forEach(op => {\r\n\r\n    if (op.group && ['ign'].includes(op.group)) {\r\n      //    1,  \r\n      op.count = 1;\r\n      return;\r\n    }\r\n\r\n    //   count  \r\n    const oldCount = op.count;\r\n\r\n    //  count\r\n    op.count = oldCount * multiplier;\r\n\r\n    //  dynamicValue  minutes\r\n    op.dynamicValue = op.count * op.rate;\r\n    op.minutes = parseFloat((op.dynamicValue * 60).toFixed(1));\r\n  });\r\n\r\n  //console.log(`    ${multiplier}`);\r\n}\r\n\r\n// ---     ---\r\nasync function loadForm(tpl) {\r\n  loading.value = true;\r\n  try {\r\n    const res = await fetch(`/api/template?code=${tpl.code}`);\r\n    if (!res.ok) throw new Error('   ');\r\n    fullForm.value = await res.json();\r\n\r\n    //console.log(fullForm.value);\r\n\r\n    //    \r\n    fullForm.value.type = tpl.category;\r\n    fullForm.value.code = tpl.code;\r\n\r\n    //  part_type  parent_product_id\r\n    if (isComposite.value && selectedParentId.value) {\r\n      fullForm.value.part_type = 'sub';\r\n      fullForm.value.parent_product_id = selectedParentId.value;\r\n    } else {\r\n      fullForm.value.part_type = 'main';\r\n      fullForm.value.parent_product_id = null;\r\n    }\r\n\r\n    fullForm.value.operations = fullForm.value.operations.map(op => ({\r\n      ...op,\r\n      count: op.count ?? 0,\r\n      baseValue: op.value ?? 0,\r\n      rate: op.value ?? 0,\r\n      dynamicValue: (op.count ?? 0) * (op.value ?? 0) //  \r\n    }));\r\n\r\n    const operationsByGroup = {};\r\n    fullForm.value.operations.forEach(op => {\r\n      if (op.group) {\r\n        operationsByGroup[op.group] = operationsByGroup[op.group] || [];\r\n        operationsByGroup[op.group].push(op);\r\n      }\r\n    });\r\n\r\n    fullForm.value.operationsByGroup = operationsByGroup;\r\n\r\n    selectedTemplate.value = tpl.code;\r\n\r\n  } catch (err) {\r\n    console.error('  :', err);\r\n    alert('   .  .');\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n}\r\n\r\n// ---   ---\r\nfunction saveNormirovka() {\r\n  //  \r\n  const templateOps = fullForm.value.operations\r\n      .filter(op => typeof op.dynamicValue === 'number' && op.dynamicValue > 0)\r\n      .map(op => ({\r\n        operation_name: op.name,\r\n        operation_label: op.label,\r\n        count: parseFloat(op.count),\r\n        value: parseFloat(op.dynamicValue.toFixed(3)),\r\n        minutes: parseFloat(op.minutes),\r\n      }));\r\n\r\n  // .  (   )\r\n  const customOps = customOperationsToSend.value.map(op => ({\r\n    operation_name: op.operation_name,\r\n    operation_label: op.operation_label,\r\n    count: op.count,\r\n    value: parseFloat(op.value.toFixed(3)),\r\n    minutes: op.minutes,\r\n  }));\r\n\r\n  const operationsToSend = [...templateOps, ...customOps];\r\n\r\n  const total = operationsToSend.reduce((sum, op) => sum + op.value, 0);\r\n\r\n  //  payload\r\n  const payload = {\r\n    order_num: cardInfo.value.order_num,\r\n    name: cardInfo.value.name,\r\n    template_code: fullForm.value.code,\r\n    count: cardInfo.value.count,\r\n    type: fullForm.value.type,\r\n    part_type: fullForm.value.part_type,\r\n    parent_product_id: fullForm.value.parent_product_id,\r\n    parent_assembly: selectedPartDetail.value,\r\n    total_time: parseFloat(total.toFixed(3)),\r\n    position: parseInt(cardInfo.value.position),\r\n    customer: cardInfo.value.customer,\r\n    operations: operationsToSend,\r\n    status: \"in_production\",\r\n    systema: fullForm.value.systema,\r\n    type_izd: selectedName.value || fullForm.value.type_izd,\r\n    profile: fullForm.value.profile,\r\n    sqr: parseFloat(cardInfo.value.sqr),\r\n  };\r\n\r\n  //console.log(payload);\r\n\r\n  // \r\n  fetch('/api/orders/order-norm/template', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(payload),\r\n  })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (!data.order_id) {\r\n          //alert(\":   ID \");\r\n          console.warn(\":   ID \", data.order_id)\r\n          return;\r\n        }\r\n        //console.log(\"    \", data.order_id, data.order_num);\r\n\r\n        // rootId   ID  (main) ,    \r\n        let rootId;\r\n\r\n        if (fullForm.value.part_type === 'main') {\r\n          //         root\r\n          rootId = data.order_id;\r\n          //  ,       \r\n          lastRootId.value = rootId;\r\n        } else {\r\n          //      rootId =  main\r\n          rootId = lastRootId.value;\r\n          //      fallback  order_id (  )\r\n          if (!rootId) {\r\n            console.warn(\"lastRootId  ,   ID\");\r\n            rootId = data.order_id;\r\n          }\r\n        }\r\n\r\n        // ,     \r\n        const createMore = confirm(\r\n            ` \"${fullForm.value.name}\" !\\n\\n    ?`\r\n        );\r\n\r\n        if (createMore) {\r\n          //        \r\n          fullForm.value = null;\r\n        } else {\r\n          //  rootId\r\n          const rootId = fullForm.value.part_type === 'main'\r\n              ? data.order_id\r\n              : lastRootId.value || data.order_id;\r\n\r\n          //   Vue- \r\n          router.push({\r\n            name: 'FormPrintNorm', //    \r\n            params: {\r\n              id: rootId,\r\n              orderNum: cardInfo.value.order_num //    \r\n            }\r\n          });\r\n\r\n          showPrintButton.value = true;\r\n          setTimeout(() => {\r\n            sessionStorage.removeItem(storageKey);\r\n          }, 50000);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(' :', err);\r\n        alert('   ');\r\n      });\r\n}\r\n\r\n//TODO       \r\nconst calculationContext = ref(null);\r\n\r\nasync function recalculateNorms() {\r\n  if (!fullForm.value || !cardInfo.value.order_num || !cardInfo.value.position) {\r\n    alert('   ');\r\n    return;\r\n  }\r\n\r\n  //console.log(cardInfo.value);\r\n\r\n  loading.value = true;\r\n  try {\r\n    const categoryName = fullForm.value.type; // , \"\"\r\n    //const typeIzd = typeIzdMap[categoryName] || categoryName.toLowerCase();\r\n\r\n    const response = await fetch('/api/materials/calculation', {\r\n      method: \"POST\",\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        order_num: cardInfo.value.order_num,\r\n        position: parseInt(cardInfo.value.position),\r\n        type: categoryName,\r\n        template: fullForm.value.code,\r\n        count: parseInt(cardInfo.value.count)\r\n      })\r\n    });\r\n\r\n    //console.log(\"RESP\", response);\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      throw new Error(` : ${response.status}  ${errorText}`);\r\n    }\r\n\r\n    const recalculatedOps = await response.json();\r\n\r\n    calculationContext.value = recalculatedOps.context;\r\n\r\n    //console.log(calculationContext.value);\r\n\r\n\r\n    //  ,    (rate, group  ..)\r\n    const newOperations = fullForm.value.operations.map(existingOp => {\r\n      //         \r\n      const recalculated = recalculatedOps.operation.find(op => op.name === existingOp.name);\r\n\r\n      if (recalculated) {\r\n        //  group  rate,   \r\n        return {\r\n          ...existingOp,\r\n          count: recalculated.count ?? existingOp.count,\r\n          dynamicValue: recalculated.value ?? existingOp.dynamicValue,\r\n          minutes: recalculated.minutes ?? existingOp.minutes,\r\n          // rate  \r\n        };\r\n      }\r\n      //          ()\r\n      return existingOp;\r\n    });\r\n\r\n    //  rate     \r\n    newOperations.forEach(op => {\r\n      if (op.count > 0) {\r\n        op.rate = op.dynamicValue / op.count;\r\n      } else {\r\n        op.rate = op.dynamicValue; //  0    \r\n      }\r\n    });\r\n\r\n    //  \r\n    fullForm.value.operations = newOperations;\r\n\r\n    //    total_time\r\n    const total = newOperations.reduce((sum, op) => sum + op.dynamicValue, 0);\r\n    fullForm.value.total_time = parseFloat(total.toFixed(3));\r\n\r\n  } catch (err) {\r\n    console.error('  :', err);\r\n    alert(`   : ${err.message}`);\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n}\r\n//TODO end\r\n\r\n// TODO     ( !!!)\r\n//     . \r\nconst customInputs = ref([\r\n  { name: '', minutes: 0, count: 1} //    \r\n]);\r\n\r\nfunction addCustomInputRow() {\r\n  customInputs.value.push({ name: '', minutes: 0, count: 1});\r\n}\r\n\r\nfunction removeCustomInputRow(index) {\r\n  if (customInputs.value.length <= 1) {\r\n    //     \r\n    customInputs.value[index] = { name: '', minutes: 0, count: 1};\r\n  } else {\r\n    customInputs.value.splice(index, 1);\r\n  }\r\n}\r\n\r\nconst customOperationsToSend = computed(() => {\r\n  return customInputs.value\r\n      .filter(row => row.name.trim())\r\n      .map(row => {\r\n        const minutes = parseFloat(row.minutes) || 0;\r\n        const valueInHours = minutes / 60; //     \r\n\r\n        return {\r\n          operation_name: `custom_${Date.now()}_${Math.random().toString(36).slice(2, 6)}`,\r\n          operation_label: row.name.trim(),\r\n          count: 1, //  0    1,   \r\n          value: parseFloat(valueInHours.toFixed(3)),     //  \r\n          minutes: parseFloat(minutes.toFixed(3))         //  \r\n        };\r\n      });\r\n});\r\n\r\n// TODO  \r\n\r\n</script>\r\n\r\n<style scoped>\r\n.form-container {\r\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n  max-width: 900px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\nh2 {\r\n  color: #2c3e50;\r\n  margin-bottom: 20px;\r\n  font-size: 24px;\r\n}\r\n\r\n.card-info {\r\n  background: #f8f9fa;\r\n  padding: 16px;\r\n  border-radius: 8px;\r\n  border: 1px solid #e9ecef;\r\n  margin-bottom: 24px;\r\n  font-size: 14px;\r\n}\r\n\r\n.card-info p {\r\n  margin: 8px 0;\r\n}\r\n\r\n.order-image {\r\n  max-width: 150px;\r\n  max-height: 150px;\r\n  object-fit: cover;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.order-image:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n/*   */\r\n.image-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.9);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  position: relative;\r\n  max-width: 90vw;\r\n  max-height: 90vh;\r\n}\r\n\r\n.enlarged-image {\r\n  max-width: 90vw;\r\n  max-height: 85vh;\r\n  object-fit: contain;\r\n  border-radius: 8px;\r\n}\r\n\r\n.close-btn {\r\n  position: absolute;\r\n  top: -40px;\r\n  right: 0;\r\n  background: none;\r\n  border: none;\r\n  color: white;\r\n  font-size: 36px;\r\n  cursor: pointer;\r\n  padding: 0;\r\n  line-height: 1;\r\n}\r\n\r\n.close-btn:hover {\r\n  opacity: 0.8;\r\n}\r\n\r\n/* ===   === */\r\n.composite-toggle, .parent-selection {\r\n  margin-bottom: 16px;\r\n  padding: 12px;\r\n  background: #e7f3ff;\r\n  border: 1px dashed #007bff;\r\n  border-radius: 8px;\r\n}\r\n\r\n.form-control {\r\n  margin: 0;\r\n  line-height: 1.5;\r\n}\r\n\r\n.form-custom-select {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  background: white;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n}\r\n\r\n/*      */\r\n.parent-selection small {\r\n  display: block;\r\n  margin-top: 4px;\r\n  font-size: 11px;\r\n  color: #666;\r\n}\r\n\r\n.parent-selection select {\r\n  width: 100%;\r\n  padding: 8px;\r\n  margin-top: 6px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.text-muted {\r\n  font-size: 12px;\r\n  color: #666;\r\n  margin-top: 4px;\r\n}\r\n\r\n/* ===   === */\r\n.forms-section h4 {\r\n  color: #495057;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.category-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.category-title {\r\n  margin: 0 0 10px 0;\r\n  padding-bottom: 6px;\r\n  border-bottom: 2px solid #007bff;\r\n  color: #007bff;\r\n  font-size: 16px;\r\n  display: inline-block;\r\n}\r\n\r\n.templates-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n}\r\n\r\n.template-item {\r\n  padding: 12px 16px;\r\n  background: #f8f9fa;\r\n  border: 1px solid #dee2e6;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  font-size: 14px;\r\n}\r\n\r\n.template-item:hover {\r\n  background: #007bff;\r\n  color: white;\r\n}\r\n\r\n.template-item.selected {\r\n  background-color: #007bff;\r\n  color: white;\r\n  font-weight: 600;\r\n  border-color: #0069d9;\r\n}\r\n\r\n/* ===   === */\r\n.full-form {\r\n  margin-top: 20px;\r\n  padding: 20px;\r\n  background: #f9f9f9;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n}\r\n\r\n.full-form h3 {\r\n  color: #2c3e50;\r\n  margin-top: 0;\r\n}\r\n\r\n.part-type-badge {\r\n  background: #e0f7fa;\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  margin-bottom: 16px;\r\n  color: #006064;\r\n}\r\n\r\n.norm-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin: 16px 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.norm-table th, .norm-table td {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n\r\n.norm-table th {\r\n  background: #f2f2f2;\r\n}\r\n\r\n.input-small {\r\n  width: 80px;\r\n  padding: 6px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  text-align: center;\r\n}\r\n\r\n.text-center {\r\n  text-align: center;\r\n}\r\n\r\n/* ===  === */\r\n.form-actions {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.btn-cancel, .btn-save, .btn-print, .multiply-count-btn, .btn-recalculate {\r\n  padding: 10px 16px;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n}\r\n\r\n\r\n.btn-save, .multiply-count-btn, .btn-recalculate{\r\n  background: #28a745;\r\n  color: white;\r\n}\r\n\r\n\r\n.calculation-info {\r\n  background: #e3f2fd;\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  margin-bottom: 12px;\r\n  font-size: 16px;\r\n}\r\n\r\n.calculation-info small {\r\n  display: block;\r\n  margin: 4px 0; /* :   */\r\n}\r\n\r\n/* ===    === */\r\n.custom-operations-section h4 {\r\n  margin-top: 0;\r\n  margin-bottom: 12px;\r\n  color: #495057;\r\n  font-size: 16px;\r\n}\r\n\r\n/* === .     === */\r\n.custom-operations-input {\r\n  margin-top: 24px;\r\n  padding: 16px;\r\n  background-color: #f9f9f9;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n}\r\n\r\n.custom-operations-input h4 {\r\n  margin-top: 0;\r\n  margin-bottom: 12px;\r\n  color: #495057;\r\n  font-size: 16px;\r\n}\r\n\r\n.custom-operations-input .input-small.wide {\r\n  width: 140px;\r\n  padding: 6px 8px;\r\n}\r\n\r\n.custom-operations-input .btn-remove {\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  background: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n}\r\n\r\n.custom-operations-input .btn-remove:hover {\r\n  background: #c82333;\r\n}\r\n\r\n.custom-operations-input .btn-add-row {\r\n  margin-top: 12px;\r\n  padding: 6px 12px;\r\n  background: #28a745;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n}\r\n\r\n.custom-operations-input .btn-add-row:hover {\r\n  background: #218838;\r\n}\r\n\r\n.total-summary {\r\n  margin: 16px 0;\r\n  padding: 10px 16px;\r\n  background-color: #e9f7ef;\r\n  border-left: 4px solid #28a745;\r\n  border-radius: 4px;\r\n  font-weight: 600;\r\n  color: #155724;\r\n  font-size: 16px;\r\n}\r\n\r\n</style>","import script from \"./FormSendPeo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FormSendPeo.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FormSendPeo.vue?vue&type=style&index=0&id=7b401702&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7b401702\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <h2>  </h2>\r\n\r\n    <div v-if=\"loading\">\r\n      <p>Loading...</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"error\" class=\"error\">\r\n      <p>{{ error }}</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"orderItems\">\r\n      <p><strong> :</strong> {{ orderNumber }}</p>\r\n\r\n        <div>\r\n          <h1></h1>\r\n          <div class=\"plans-container\">\r\n            <div v-for=\"(item, index) in orderItems\"\r\n                 :key=\"index\"\r\n                 @click=\"goToForm(item)\"\r\n                 class=\"plan-item\">\r\n              <img :src=\"`data:image/png;base64,${item.image}`\" width=\"120\" alt=\"Order Image\" />\r\n\r\n              <div class=\"plan-details\">\r\n                <p><strong>:</strong> {{ item.position }}</p>\r\n                <p><strong>:</strong> {{ item.name_position }}</p>\r\n                <p><strong>:</strong> {{ item.count }}</p>\r\n                <p><strong>:</strong> {{ item.color }}</p>\r\n                <p><strong>:</strong> {{ item.sqr }}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      <!--    Excel -->\r\n      <button @click=\"goBack\"></button>\r\n    </div>\r\n\r\n    <div v-else>\r\n      <p>   </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport { useRoute, useRouter } from 'vue-router';\r\n\r\n//   \r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\n//  \r\nconst loading = ref(true);\r\nconst error = ref(null);\r\nconst orderItems = ref([]);\r\nconst orderNumber = ref('');\r\nconst orderNum = route.params.orderNum;\r\n\r\nasync function fetchOrderDetails() {\r\n  try {\r\n\r\n    const response = await axios.get(`/api/orders/order/${orderNum}`);\r\n\r\n    // response.data    \r\n    orderItems.value = response.data;\r\n\r\n    //       (    order_num)\r\n    if (orderItems.value.length > 0) {\r\n      orderNumber.value = orderItems.value[0].order_num;\r\n    }\r\n\r\n    //console.log(orderItems.value);\r\n  } catch (err) {\r\n    console.error('    :', err);\r\n    error.value = '    .';\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n}\r\n\r\n//    \r\nfunction goBack() {\r\n  router.go(-1);\r\n}\r\n\r\n//     \r\nonMounted(() => {\r\n  fetchOrderDetails();\r\n});\r\n\r\n\r\nfunction goToForm(item) {\r\n  //    \r\n  const orderDetails = {\r\n    order_num: item.order_num,\r\n    name: item.name_position,\r\n    count: item.count,\r\n    color: item.color,\r\n    sqr: item.sqr,\r\n    image: item.image,\r\n    position: item.position,\r\n  };\r\n\r\n  //   sessionStorage  , ,  ID + \r\n  const storageKey = `orderDetail_${item.order_num}_${item.position}`;\r\n  sessionStorage.setItem(storageKey, JSON.stringify(orderDetails));\r\n\r\n  //      \r\n  router.push({\r\n    name: 'FormSendPeo',\r\n    params: {\r\n      orderNum: item.order_num,\r\n      position: item.position.toString()\r\n    },\r\n    query: {\r\n      //position: item.position,\r\n      //order_num: item.order_num,\r\n      fromStorage: 'true'\r\n    }\r\n  });\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n/*   */\r\ndiv {\r\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n}\r\n\r\nh2 {\r\n  color: #333;\r\n  margin-bottom: 20px;\r\n  font-weight: 500;\r\n  border-bottom: 2px solid #4299e1;\r\n  padding-bottom: 8px;\r\n}\r\n\r\np {\r\n  margin: 8px 0;\r\n  color: #333;\r\n  line-height: 1.5;\r\n}\r\n\r\nstrong {\r\n  color: #2d3748;\r\n}\r\n\r\n/*     */\r\n.loading,\r\n.error,\r\n.no-order {\r\n  text-align: center;\r\n  padding: 40px;\r\n  font-size: 16px;\r\n}\r\n\r\n.loading {\r\n  color: #4a5568;\r\n}\r\n\r\n.error {\r\n  background-color: #fee;\r\n  color: #e53e3e;\r\n  border-radius: 8px;\r\n  border: 1px dashed #c92a2a;\r\n}\r\n\r\n.no-order {\r\n  color: #777;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  border: 1px dashed #ccc;\r\n}\r\n\r\n/*  \"\" */\r\nh1 {\r\n  font-size: 1.5em;\r\n  color: #2d3748;\r\n  margin-top: 30px;\r\n  margin-bottom: 16px;\r\n  padding-left: 20px;\r\n}\r\n\r\n.plans-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  padding: 0 20px 20px;\r\n}\r\n\r\n.plan-item {\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: #fff;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n  transition: transform 0.1s ease, box-shadow 0.2s ease;\r\n  cursor: pointer;\r\n}\r\n\r\n.plan-item:hover {\r\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\r\n  transform: translateY(-2px);\r\n  border-color: #a0aec0;\r\n}\r\n\r\n.plan-item img {\r\n  border-radius: 6px;\r\n  object-fit: cover;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.plan-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  gap: 4px;\r\n  flex: 1;\r\n}\r\n\r\n.plan-details p {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  color: #2d3748;\r\n}\r\n\r\n/*   */\r\nbutton {\r\n  margin-top: 24px;\r\n  padding: 10px 20px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: #4299e1;\r\n  background-color: #ebf8ff;\r\n  border: 1px solid #4299e1;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  align-self: flex-start;\r\n  margin-left: 20px;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #bee3f8;\r\n  border-color: #3182ce;\r\n  color: #2b6cb0;\r\n}\r\n\r\n/*  */\r\n@media (max-width: 600px) {\r\n  .plan-item {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n\r\n  .plan-item img {\r\n    width: 180px;\r\n    height: auto;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./OrdersDetails.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrdersDetails.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OrdersDetails.vue?vue&type=style&index=0&id=2720e8f6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2720e8f6\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"additional-ops\">\r\n    <h3 class=\"additional-ops-label\">\r\n      <label> </label>\r\n    </h3>\r\n    <table class=\"operations-table\">\r\n      <thead>\r\n      <tr>\r\n        <th width=\"40%\"></th>\r\n        <th width=\"10%\"> /</th>\r\n        <th width=\"10%\"> /</th>\r\n        <th> </th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"n in 3\" :key=\"n\">\r\n        <td>&nbsp;</td>\r\n        <td>&nbsp;</td>\r\n        <td>&nbsp;</td>\r\n        <td>&nbsp;</td>\r\n      </tr>\r\n      <tr class=\"total-row\">\r\n        <td colspan=\"3\" class=\"text-right\">\r\n          <strong> . :</strong>\r\n        </td>\r\n        <td></td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.additional-ops {\r\n  margin-top: 6px;\r\n  margin-bottom: 0;\r\n  break-inside: avoid;\r\n  page-break-inside: avoid;\r\n}\r\n\r\n.additional-ops-label {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  line-height: 1.2;\r\n}\r\n\r\n.operations-table select {\r\n  font-size: 12px;\r\n}\r\n</style>","import { render } from \"./AddictionOperation.vue?vue&type=template&id=cb0b450e&scoped=true\"\nconst script = {}\n\nimport \"./AddictionOperation.vue?vue&type=style&index=0&id=cb0b450e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cb0b450e\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"print-container\">\r\n    <!--   -->\r\n    <div class=\"print-layout\" v-if=\"assembly\">\r\n      <!--   -->\r\n      <div class=\"print-page main-page\">\r\n        <div class=\"header\">\r\n          <p>   {{ assembly.main.head_name }}</p>\r\n          <p><strong> :</strong> {{ assembly.main.order_num }}, <strong>:</strong> {{ assembly.main.position }}</p>\r\n          <p><strong>:</strong> {{ assembly.main.count }}</p>\r\n\r\n          <table class=\"operations-table\">\r\n            <thead>\r\n            <tr>\r\n              <th width=\"40%\"></th>\r\n              <th width=\"10%\"> <br> /</th>\r\n              <th width=\"10%\"> <br> /</th>\r\n              <th> </th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-for=\"op in assembly.main.operations\" :key=\"op.operation_name\">\r\n              <td>{{ op.operation_label }}</td>\r\n              <td>{{ op.value.toFixed(3) }}</td>\r\n              <td>{{ op.minutes }}</td>\r\n              <td></td>\r\n            </tr>\r\n            <tr class=\"total-row\">\r\n              <td colspan=\"1\" class=\"text-right\"><strong>:</strong></td>\r\n              <td>{{ assembly.main.total_time.toFixed(3) }}</td>\r\n              <td>{{ Math.round(assembly.main.total_time * 60) }}</td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <!--   -->\r\n          <AddictionOperation />\r\n        </div>\r\n      </div>\r\n\r\n      <!--        -->\r\n      <div\r\n          v-for=\"sub in assembly.subs\"\r\n          :key=\"sub.id\"\r\n          class=\"print-page sub-page\"\r\n      >\r\n        <div class=\"header\">\r\n        <p>   {{ sub.head_name }}</p>\r\n        <p><strong> :</strong> {{ sub.order_num }}, <strong>:</strong> {{ assembly.main.position }}</p>\r\n        <p><strong>:</strong> {{ sub.count }}</p>\r\n\r\n        <table class=\"operations-table\">\r\n          <thead>\r\n          <tr>\r\n            <th width=\"40%\"></th>\r\n            <th width=\"10%\"> <br> /</th>\r\n            <th width=\"10%\"> <br> /</th>\r\n            <th> </th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          <tr v-for=\"op in sub.operations\" :key=\"op.operation_name\">\r\n            <td>{{ op.operation_label }}</td>\r\n            <td>{{ op.value.toFixed(3) }}</td>\r\n            <td>{{ op.minutes }}</td>\r\n            <td></td>\r\n          </tr>\r\n          <tr class=\"total-row\">\r\n            <td colspan=\"1\" class=\"text-right\"><strong>:</strong></td>\r\n            <td>{{ sub.total_time.toFixed(3) }}</td>\r\n            <td>{{ Math.round(sub.total_time * 60) }}</td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <AddictionOperation />\r\n        </div>\r\n      </div>\r\n\r\n      <!--   -->\r\n      <div class=\"print-controls\">\r\n        <button @click=\"print\" class=\"btn-print\"></button>\r\n        <button @click=\"goBackToOrder\" class=\"btn-back\">\r\n            \r\n        </button>\r\n        <button\r\n            v-if=\"assembly.main && assembly.main.status !== 'cancel'\"\r\n            @click=\"confirmCancel\"\r\n            class=\"btn-cancel\"\r\n            :disabled=\"loadingCancel\"\r\n        >\r\n          {{ loadingCancel ? '...' : ' ' }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-else-if=\"loading\" class=\"loading\">\r\n       ...\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div v-else class=\"error\">\r\n         .\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\n\r\nimport AddictionOperation from \"@/components/AddictionOperation.vue\";\r\nimport axios from \"axios\";\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst assembly = ref(null);\r\nconst loading = ref(true);\r\n\r\nonMounted(async () => {\r\n  const id = route.params.id;\r\n  if (!id) {\r\n    alert(\"  ID\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    //      rootId\r\n    const itemRes = await fetch(`/api/orders/order-norm/${id}`);\r\n    if (!itemRes.ok) throw new Error(`  : ${itemRes.status}`);\r\n    const itemData = await itemRes.json();\r\n\r\n    const item = Array.isArray(itemData) ? itemData[0] : itemData;\r\n\r\n    //  rootId\r\n    let rootId;\r\n    if (item.part_type === 'main') {\r\n      rootId = id;\r\n    } else if (item.parent_product_id) {\r\n      rootId = item.parent_product_id;\r\n    } else {\r\n      rootId = id;\r\n    }\r\n\r\n    //   \r\n    const assemblyRes = await fetch(`/api/orders/order-norm/${rootId}`);\r\n    if (!assemblyRes.ok) throw new Error(`   : ${assemblyRes.status}`);\r\n    const data = await assemblyRes.json();\r\n\r\n    //   \r\n    let dataArray;\r\n    if (Array.isArray(data)) {\r\n      dataArray = data;\r\n    } else if (data && typeof data === 'object') {\r\n      dataArray = [data];\r\n    } else {\r\n      throw new Error(' ');\r\n    }\r\n\r\n    //  main  subs\r\n    const main = dataArray.find(item => item.part_type === 'main');\r\n    const subs = dataArray.filter(item => item.part_type === 'sub');\r\n\r\n    //  main     \r\n    const finalMain = main || (dataArray.length > 0 ? dataArray[0] : null);\r\n\r\n    if (!finalMain) {\r\n      throw new Error('   ');\r\n    }\r\n\r\n    assembly.value = {\r\n      main: finalMain,\r\n      subs: subs\r\n    };\r\n  } catch (err) {\r\n    console.error(' :', err);\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n});\r\n\r\nfunction goBackToOrder() {\r\n  //  order_num  query \r\n  const orderNum = route.query.order_num || assembly.value?.main?.order_num;\r\n\r\n  if (orderNum) {\r\n    router.push({\r\n      name: 'OrdersDetails',\r\n      params: { orderNum: orderNum }\r\n    });\r\n  } else {\r\n    //  \r\n    router.go(-2);\r\n  }\r\n}\r\n\r\nconst loadingCancel = ref(false);\r\n\r\n//   \r\nconst confirmCancel = () => {\r\n    cancelOrder(assembly.value.main);\r\n};\r\n\r\n//   \r\nconst cancelOrder = async (order) => {\r\n  if (!order) return;\r\n\r\n  loadingCancel.value = true;\r\n  try {\r\n    const response = await axios.post('/api/orders/cancel', {\r\n      root_product_id: order.id,\r\n    });\r\n\r\n    if (response.status === 200) {\r\n      //  \r\n      order.status = 'cancel';\r\n      alert('  .');\r\n    } else {\r\n      throw new Error('API   ');\r\n    }\r\n  } catch (error) {\r\n    console.error('   :', error);\r\n    let message = '   .';\r\n    if (error.response?.data?.message) {\r\n      message += '\\n' + error.response.data.message;\r\n    }\r\n    alert(message);\r\n  } finally {\r\n    loadingCancel.value = false;\r\n  }\r\n};\r\n\r\nfunction print() {\r\n  const printLayout = document.querySelector('.print-layout');\r\n  if (!printLayout) {\r\n    alert('   ');\r\n    return;\r\n  }\r\n\r\n  //  ,    \r\n  const contentClone = printLayout.cloneNode(true);\r\n\r\n  //       \r\n  const controls = contentClone.querySelector('.print-controls');\r\n  if (controls) {\r\n    controls.remove();\r\n  }\r\n\r\n  //   HTML  \r\n  const contentHtml = contentClone.innerHTML;\r\n\r\n  const printHtml = `\r\n    <!DOCTYPE html>\r\n    <html>\r\n      <head>\r\n        <meta charset=\"utf-8\">\r\n        <title> </title>\r\n        <style>\r\n          body {\r\n            font-family: 'Segoe UI', Arial, sans-serif;\r\n            font-size: 13px;\r\n            line-height: 1.4;\r\n            padding: 15px;\r\n            margin: 0;\r\n            color: #000;\r\n            background: #fff;\r\n            -webkit-print-color-adjust: exact;\r\n            print-color-adjust: exact;\r\n            width: 210mm;\r\n            margin: 0 auto;\r\n          }\r\n          .print-page {\r\n            break-inside: avoid;\r\n            page-break-inside: avoid;\r\n            margin-bottom: 12px;\r\n          }\r\n          .header p {\r\n            margin: 2px 0;\r\n            line-height: 1.2;\r\n          }\r\n          table {\r\n            width: 100%;\r\n            border-collapse: collapse;\r\n            margin: 4px 0;\r\n            font-size: 12px;\r\n          }\r\n          th, td {\r\n            border: 1px solid #000;\r\n            padding: 4px 6px;\r\n            text-align: left;\r\n          }\r\n          th {\r\n            background-color: #f2f2f2;\r\n            font-weight: bold;\r\n          }\r\n          .total-row {\r\n            background-color: #f9f9f9;\r\n            font-weight: bold;\r\n          }\r\n          .additional-ops {\r\n            margin-top: 6px;\r\n            break-inside: avoid;\r\n            page-break-inside: avoid;\r\n          }\r\n          @media print {\r\n            @page {\r\n              margin: 1cm;\r\n              size: A4 portrait;\r\n            }\r\n            body {\r\n              -webkit-print-color-adjust: exact;\r\n            }\r\n          }\r\n        </style>\r\n      </head>\r\n      <body onload=\"window.focus(); window.print();\">\r\n        <div class=\"print-container\">\r\n          ${contentHtml}\r\n        </div>\r\n      </body>\r\n    </html>\r\n  `;\r\n\r\n  //    about:blank ( ,   )\r\n  const printWindow = window.open('about:blank', '_blank', 'width=1000,height=800,scrollbars=yes');\r\n\r\n  //  :  ?\r\n  if (!printWindow) {\r\n    alert('   .         .');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    //      \r\n    printWindow.document.open();\r\n    printWindow.document.write(printHtml);\r\n    printWindow.document.close();\r\n\r\n    //  :  onload  \r\n    setTimeout(() => {\r\n      if (!printWindow.closed) {\r\n        printWindow.focus();\r\n      }\r\n    }, 250);\r\n  } catch (e) {\r\n    console.error('    :', e);\r\n    alert('      .       Ctrl+P.');\r\n    if (!printWindow.closed) printWindow.close();\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.print-container {\r\n  font-family: 'Segoe UI', Tahoma, Verdana, sans-serif;\r\n  max-width: 900px;\r\n  margin: 10px auto;\r\n  padding: 10px;\r\n  background: #fff;\r\n}\r\n\r\n.header {\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.header p {\r\n  margin: 2px 0;\r\n  line-height: 1.2;\r\n}\r\n\r\n.operations-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin: 4px 0;\r\n  font-size: 11px;\r\n}\r\n\r\n.operations-table th,\r\n.operations-table td {\r\n  border: 1px solid #000;\r\n  padding: 3px 5px;\r\n  text-align: left;\r\n}\r\n\r\n.operations-table th {\r\n  background-color: #f2f2f2;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n  font-size: 11px;\r\n}\r\n\r\n.total-row {\r\n  background-color: #f9f9f9;\r\n  font-weight: bold;\r\n}\r\n\r\n.text-right {\r\n  text-align: right;\r\n}\r\n\r\n.print-controls {\r\n  text-align: center;\r\n  margin: 20px 0 10px;\r\n}\r\n\r\n.btn-print {\r\n  padding: 8px 16px;\r\n  font-size: 14px;\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-print:hover {\r\n  background: #0056b3;\r\n}\r\n\r\n.loading,\r\n.error {\r\n  text-align: center;\r\n  font-size: 14px;\r\n  padding: 20px;\r\n}\r\n</style>\r\n\r\n<!--    -->\r\n<style scoped>\r\n@media print {\r\n  .print-controls {\r\n    display: none;\r\n  }\r\n\r\n  .print-container {\r\n    margin: 0;\r\n    padding: 6px;\r\n    font-size: 10px;\r\n    visibility: visible;\r\n    height: auto !important;\r\n  }\r\n\r\n  .header {\r\n    break-inside: avoid;\r\n    page-break-inside: avoid;\r\n  }\r\n\r\n  .header p {\r\n    margin: 1px 0;\r\n    line-height: 1.1;\r\n  }\r\n\r\n  .operations-table {\r\n    margin: 3px 0;\r\n    break-inside: avoid;\r\n    page-break-inside: avoid;\r\n    font-size: 10px;\r\n  }\r\n\r\n  .operations-table th,\r\n  .operations-table td {\r\n    padding: 2px 4px;\r\n    font-size: 9px;\r\n  }\r\n\r\n  /*     .  */\r\n  .additional-ops {\r\n    break-inside: avoid;\r\n    page-break-inside: avoid;\r\n    margin-top: 6px;\r\n  }\r\n\r\n  .additional-ops-label {\r\n    font-size: 11px;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  /* ,      */\r\n  .main-page {\r\n    break-before: auto;\r\n    orphans: 3;\r\n    widows: 3;\r\n  }\r\n\r\n  /*       */\r\n  .sub-page {\r\n    break-before: auto;\r\n    orphans: 3;\r\n    widows: 3;\r\n  }\r\n\r\n  .print-page {\r\n    margin: 0;\r\n    padding-bottom: 8px; /*  margin-bottom */\r\n  }\r\n}\r\n\r\n.btn-cancel {\r\n  padding: 8px 16px;\r\n  font-size: 14px;\r\n  background: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n}\r\n\r\n.btn-cancel:hover {\r\n  background: #c82333;\r\n}\r\n\r\n.btn-cancel:disabled {\r\n  background: #a71d2a;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.btn-back {\r\n  padding: 8px 16px;\r\n  font-size: 14px;\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n}\r\n\r\n.btn-back:hover {\r\n  background: #0056b3;\r\n}\r\n</style>","import script from \"./PrintNormOrder.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PrintNormOrder.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PrintNormOrder.vue?vue&type=style&index=0&id=17e8fcb2&lang=css\"\nimport \"./PrintNormOrder.vue?vue&type=style&index=1&id=17e8fcb2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-17e8fcb2\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"orders-page\">\r\n    <h2> </h2>\r\n\r\n    <!--  -->\r\n    <div class=\"filters\">\r\n      <div class=\"filter-group\">\r\n        <label> </label>\r\n        <input\r\n            v-model=\"filters.order_num\"\r\n            type=\"text\"\r\n            placeholder=\"\"\r\n            @input=\"applyFilters\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"filter-group\">\r\n        <label> </label>\r\n        <select v-model=\"filters.type\" @change=\"applyFilters\">\r\n          <option value=\"\"> </option>\r\n          <option value=\"window\"></option>\r\n          <option value=\"glyhar\"></option>\r\n          <option value=\"door\"></option>\r\n          <option value=\"loggia\"></option>\r\n          <option value=\"vitrage\"></option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <table class=\"orders-table\" v-if=\"orders.length > 0\">\r\n      <thead>\r\n      <tr>\r\n        <th></th>\r\n        <th></th>\r\n        <th>-</th>\r\n        <th></th>\r\n        <th> ()</th>\r\n        <th></th>\r\n        <th></th>\r\n        <th></th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"order in orders\" :key=\"order.id\">\r\n        <td>{{ order.order_num }}</td>\r\n        <td>{{ order.name }}</td>\r\n        <td class=\"text-center\">{{ order.count }}</td>\r\n        <td>\r\n          <span :class=\"`type-badge type-${order.type}`\">{{ getTypeLabel(order.type) }}</span>\r\n        </td>\r\n        <td class=\"text-right\">{{ order.total_time.toFixed(3) }}</td>\r\n        <td>{{ new Date(order.created_at).toLocaleDateString() }}</td>\r\n        <td>\r\n          <button @click=\"goToNormirovka(order)\" class=\"btn-view\">\r\n            \r\n          </button>\r\n          <button @click=\"goToWorkers(order)\" class=\"btn-view\">\r\n             \r\n          </button>\r\n          <button\r\n              v-if=\"order.status !== 'cancel'\"\r\n              @click=\"cancelOrder(order)\"\r\n              class=\"btn-view\"\r\n          >\r\n            \r\n          </button>\r\n        </td>\r\n        <td>\r\n          <span :class=\"`status-badge type-${order.status}`\">{{ getTypeStatus(order.status) }}</span>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div v-else-if=\"!loading\" class=\"no-results\">\r\n      {{ filters.order_num || filters.type ? '   ' : '  ' }}\r\n    </div>\r\n\r\n    <div v-else class=\"loading\">...</div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport axios from \"axios\";\r\n\r\nconst router = useRouter();\r\n\r\n// \r\nconst filters = ref({\r\n  order_num: '',\r\n  type: ''\r\n});\r\n\r\n//  \r\nconst orders = ref([]);\r\nconst loading = ref(false);\r\n\r\n//   \r\nconst typeLabels = {\r\n  window: '',\r\n  glyhar: '',\r\n  door: '',\r\n  loggia: '',\r\n  vitrage: '',\r\n  other: ''\r\n};\r\n\r\nconst typeStatus = {\r\n  assigned: \" \",\r\n  in_production: \" \",\r\n  final: \"  \",\r\n  cancel: \"\",\r\n};\r\n\r\nconst getTypeLabel = (type) => {\r\n  return typeLabels[type] || type;\r\n};\r\n\r\nconst getTypeStatus = (type) => {\r\n  return typeStatus[type] || type;\r\n};\r\n\r\n//     \r\nconst applyFilters = () => {\r\n  fetchOrders();\r\n};\r\n\r\n//  \r\nconst fetchOrders = async () => {\r\n  loading.value = true;\r\n\r\n  //  URL  \r\n  const params = new URLSearchParams();\r\n  if (filters.value.order_num) params.append('order_num', filters.value.order_num);\r\n  if (filters.value.type) params.append('type', filters.value.type);\r\n\r\n  try {\r\n    const res = await fetch(`/api/orders/order/norm/all?${params}`);\r\n    if (!res.ok) {\r\n      console.error(' HTTP:', res.status);\r\n      orders.value = [];\r\n      return;\r\n    }\r\n\r\n    const data = await res.json();\r\n\r\n    // data  .  null  []\r\n    orders.value = Array.isArray(data) ? data : [];\r\n\r\n  } catch (err) {\r\n    console.error(' :', err);\r\n    orders.value = [];\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\n//   \r\nconst goToNormirovka = (order) => {\r\n  router.push(`/norm/orders/order-norm/edit/${order.id}`);\r\n};\r\n\r\nconst goToWorkers = (order) => {\r\n  router.push({ name: 'AssignWorkers', params: { id: order.id } });\r\n};\r\n\r\nconst cancelOrder = async (order) => {\r\n  try {\r\n\r\n    const response = await axios.post('/api/orders/cancel', {\r\n      root_product_id: order.id,\r\n    });\r\n\r\n    if (response.status === 200) {\r\n      order.status = 'cancel'\r\n    }\r\n  } catch (error) {\r\n    console.error('   :', error)\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  if (urlParams.has('order_num')) filters.value.order_num = urlParams.get('order_num');\r\n  if (urlParams.has('type')) filters.value.type = urlParams.get('type');\r\n\r\n  fetchOrders();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.orders-page {\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\nh2 {\r\n  color: #2c3e50;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  gap: 20px;\r\n  margin-bottom: 24px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.filter-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 200px;\r\n}\r\n\r\n.filter-group label {\r\n  font-size: 14px;\r\n  color: #555;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.filter-group input,\r\n.filter-group select {\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n}\r\n\r\n.orders-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  background: white;\r\n}\r\n\r\n.orders-table th,\r\n.orders-table td {\r\n  padding: 12px 10px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.orders-table th {\r\n  background: #f8f9fa;\r\n  color: #495057;\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n}\r\n\r\n.text-center {\r\n  text-align: center;\r\n}\r\n\r\n.text-right {\r\n  text-align: right;\r\n}\r\n\r\n.type-badge {\r\n  padding: 4px 10px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  color: white;\r\n}\r\n\r\n.type-badge.type-window { background: #007bff; }\r\n.type-badge.type-glyhar { background: #28a745; }\r\n.type-badge.type-door   { background: #dc3545; }\r\n.type-badge.type-loggia { background: #fd7e14; }\r\n.type-badge.type-vitrage{ background: #6f42c1; }\r\n\r\n.btn-view {\r\n  padding: 6px 12px;\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-view:hover {\r\n  background: #0056b3;\r\n}\r\n\r\n.no-results,\r\n.loading {\r\n  text-align: center;\r\n  padding: 40px;\r\n  color: #6c757d;\r\n  font-style: italic;\r\n}\r\n\r\n.status-badge {\r\n  color: white;\r\n  padding: 6px 10px;\r\n  margin-left: 10px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  background-color: #007bff;\r\n\r\n  display: inline-block;\r\n  white-space: nowrap;\r\n  line-height: 1.2;\r\n  vertical-align: middle;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.status-badge.type-in_production  { background-color: #007bff; }\r\n.status-badge.type-assigned       { background-color: #28a745; }\r\n.status-badge.type-final          { background-color: #fd7e14; }\r\n.status-badge.type-cancel         { background-color: #dc3545; }\r\n</style>","import script from \"./NormOrdersList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NormOrdersList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NormOrdersList.vue?vue&type=style&index=0&id=0e4fe694&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0e4fe694\"]])\n\nexport default __exports__","<!-- EditNormOrder.vue -->\r\n<template>\r\n  <div class=\"edit-norm-page\" v-if=\"!loading && assembly\">\r\n    <h2> </h2>\r\n    <p><strong>:</strong> {{ assembly[0]?.order_num }}</p>\r\n\r\n    <!--      -->\r\n    <div v-for=\"item in assembly\" :key=\"item.id\" class=\"assembly-item\">\r\n      <h3>{{ getItemTitle(item) }}</h3>\r\n      <div class=\"item-info\">\r\n        <span><strong>:</strong> {{ item.type_izd }}</span>\r\n        <span><strong>-:</strong> {{ item.count }}</span>\r\n        <span><strong>:</strong> {{ formatDate(item.created_at) }}</span>\r\n      </div>\r\n\r\n      <!--   -->\r\n      <table class=\"operations-table\">\r\n        <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th> ()</th>\r\n          <th>-</th>\r\n          <th> ()</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <!--   -->\r\n        <tr v-for=\"op in item.operations\" :key=\"op.operation_name\">\r\n          <td>{{ op.operation_label }}</td>\r\n          <td>\r\n            <input\r\n                v-model.number=\"op.value\"\r\n                type=\"number\"\r\n                min=\"0\"\r\n                step=\"0.01\"\r\n                class=\"input-small\"\r\n                @input=\"syncMinutes(op)\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n                v-model.number=\"op.count\"\r\n                type=\"number\"\r\n                step=\"1\"\r\n                min=\"0\"\r\n                class=\"input-small\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n                v-model.number=\"op.minutes\"\r\n                type=\"number\"\r\n                min=\"0\"\r\n                class=\"input-small\"\r\n            />\r\n          </td>\r\n        </tr>\r\n\r\n        <!-- .  -->\r\n        <tr v-for=\"(extra, index) in item.extraOperations\" :key=\"extra.operation_name || `custom_${index}`\">\r\n          <td>\r\n            <!--  :    -->\r\n            <select\r\n                v-if=\"extra.fixed\"\r\n                v-model=\"extra.operation_label\"\r\n                class=\"input-full\"\r\n                @change=\"updateFixedOperation(extra)\"\r\n                :disabled=\"loading\"\r\n            >\r\n              <option value=\"\">--   --</option>\r\n              <option value=\"   \">   </option>\r\n              <option value=\"   \">   </option>\r\n            </select>\r\n\r\n            <!--  :   -->\r\n            <input\r\n                v-else\r\n                v-model=\"extra.operation_label\"\r\n                type=\"text\"\r\n                placeholder=\"  \"\r\n                class=\"input-full\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n                v-model.number=\"extra.value\"\r\n                type=\"number\"\r\n                min=\"0\"\r\n                step=\"0.01\"\r\n                class=\"input-small\"\r\n                @input=\"syncExtraMinutes(extra)\"\r\n                :disabled=\"loading\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n                v-model.number=\"extra.count\"\r\n                type=\"number\"\r\n                step=\"1\"\r\n                min=\"0\"\r\n                class=\"input-small\"\r\n                :disabled=\"loading\"\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n                v-model.number=\"extra.minutes\"\r\n                type=\"number\"\r\n                min=\"0\"\r\n                class=\"input-small\"\r\n                :disabled=\"loading\"\r\n            />\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div class=\"actions\">\r\n      <button @click=\"goBack\" class=\"btn-cancel\"></button>\r\n      <button @click=\"saveAll\" :disabled=\"loading\" class=\"btn-save\">\r\n        {{ loading ? '...' : ' ' }}\r\n      </button>\r\n      <button @click=\"goToPrint\"  class=\"btn-print\">\r\n          \r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div v-else-if=\"loading\" class=\"loading\"> ...</div>\r\n  <div v-else class=\"error\">   </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\n// \r\nconst assembly = ref([]);\r\nconst loading = ref(false);\r\n// ---   ---\r\n\r\nonMounted(() => {\r\n  loadAssembly();\r\n});\r\n\r\n//  operation_name   operation_label\r\nconst updateFixedOperation = (extra) => {\r\n  if (extra.operation_label === '  ') {\r\n    extra.operation_name = 'dop_nap';\r\n  } else if (extra.operation_label === '   ') {\r\n    extra.operation_name = 'dop_sbor';\r\n  } else {\r\n    extra.operation_name = '';\r\n  }\r\n};\r\n\r\nconst loadAssembly = async () => {\r\n  loading.value = true;\r\n  try {\r\n    const id = route.params.id;\r\n    if (!id) {\r\n      console.error(\"  ID \");\r\n      return router.push('/norm/orders/');\r\n    }\r\n\r\n    //   \r\n    const itemRes = await fetch(`/api/orders/order-norm/${id}`);\r\n    if (!itemRes.ok) throw new Error('  ');\r\n    const currentItem = await itemRes.json();\r\n\r\n    //  rootId\r\n    let rootId;\r\n    if (currentItem.part_type === 'main') {\r\n      rootId = id;\r\n    } else if (currentItem.parent_product_id) {\r\n      rootId = currentItem.parent_product_id;\r\n    } else {\r\n      rootId = id;\r\n    }\r\n\r\n    //   \r\n    const assemblyRes = await fetch(`/api/orders/order-norm/${rootId}`);\r\n    if (!assemblyRes.ok) throw new Error('   ');\r\n    const allItems = await assemblyRes.json();\r\n\r\n    //   \r\n    assembly.value = allItems.map(item => ({\r\n      id: item.id,\r\n      order_num: item.order_num,\r\n      name: item.name,\r\n      count: item.count,\r\n      type: item.type,\r\n      type_izd: item.type_izd,\r\n      part_type: item.part_type,\r\n      parent_product_id: item.parent_product_id,\r\n      created_at: item.created_at,\r\n      operations: item.operations.map(op => ({ ...op })),\r\n      extraOperations: [\r\n        { operation_name: 'dop_nap', operation_label: '', count: 0, value: 0, minutes: 0, fixed: true },\r\n        { operation_name: 'dop_sbor', operation_label: '', count: 0, value: 0, minutes: 0, fixed: true },\r\n        { operation_name: '', operation_label: '', count: 0, value: 0, minutes: 0, fixed: false },\r\n        { operation_name: '', operation_label: '', count: 0, value: 0, minutes: 0, fixed: false }\r\n      ]\r\n    }));\r\n  } catch (err) {\r\n    console.error(' :', err);\r\n    alert('   .  .');\r\n    router.push('/norm/orders/');\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\n// ---   ---\r\n\r\n//  \r\nconst getItemTitle = (item) => {\r\n  if (item.part_type === 'main') return ` : ${item.name}`;\r\n  return ` : ${item.name}`;\r\n};\r\n\r\n//  \r\nconst formatDate = (dateStr) => {\r\n  if (!dateStr) return '';\r\n  const date = new Date(dateStr);\r\n  return date.toLocaleDateString('ru-RU');\r\n};\r\n\r\n// : value  minutes\r\nconst syncMinutes = (op) => {\r\n  if (op.value !== undefined) {\r\n    op.minutes = (op.value * 60).toFixed(1);\r\n  }\r\n};\r\n\r\n// : minutes  value\r\n// const syncValue = (op) => {\r\n//   if (op.minutes !== undefined) {\r\n//     op.value = parseFloat((op.minutes / 60).toFixed(3));\r\n//   }\r\n// };\r\n\r\n// : extra.value  extra.minutes\r\nconst syncExtraMinutes = (extra) => {\r\n  if (typeof extra.value === 'number' && !isNaN(extra.value)) {\r\n    extra.minutes = parseFloat((extra.value * 60).toFixed(1));\r\n  }\r\n};\r\n\r\n// ---    ---\r\nconst saveAll = async () => {\r\n  if (loading.value) return;\r\n  loading.value = true;\r\n\r\n  const savePromises = assembly.value.map(async (item) => {\r\n    //  . \r\n    const validExtra = item.extraOperations.filter(\r\n        ex => ex.operation_label.trim() !== ''\r\n    );\r\n\r\n    //   \r\n    const total = [\r\n      ...item.operations,\r\n      ...validExtra\r\n    ].reduce((sum, op) => sum + op.value, 0);\r\n\r\n    const payload = {\r\n      order_num: item.order_num,\r\n      product_name: item.name,\r\n      type: item.type,\r\n      status: \"in_production\",\r\n      total_time: parseFloat(total.toFixed(3)),\r\n      operations: [\r\n        ...item.operations.map(op => ({\r\n          operation_name: op.operation_name,\r\n          operation_label: op.operation_label,\r\n          count: parseInt(op.count) || 0,\r\n          value: parseFloat(op.value) || 0,\r\n          minutes: parseFloat(op.minutes) || 0\r\n        })),\r\n        ...validExtra.map(ex => ({\r\n          operation_name: ex.operation_name,\r\n          operation_label: ex.operation_label,\r\n          count: parseInt(ex.count) || 0,\r\n          value: parseFloat(ex.value) || 0,\r\n          minutes: parseFloat(ex.minutes) || 0\r\n        }))\r\n      ]\r\n    };\r\n\r\n    try {\r\n      const res = await fetch(`/api/orders/order/norm/update/${item.id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      });\r\n\r\n\r\n      return res.ok ? { success: true, id: item.id } : { success: false, id: item.id };\r\n    } catch (err) {\r\n      console.error(`    ${item.id}:`, err);\r\n      return { success: false, id: item.id };\r\n    }\r\n  });\r\n\r\n  const results = await Promise.all(savePromises);\r\n  const successCount = results.filter(r => r.success).length;\r\n\r\n  // \r\n  if (successCount === results.length) {\r\n    //alert('   ');\r\n    //router.push('/norm/orders/');\r\n  } else if (successCount > 0) {\r\n    console.error(` ${successCount}  ${results.length} .  .`);\r\n    //alert(` ${successCount}  ${results.length} .  .`);\r\n  } else {\r\n    console.error('     ');\r\n    //alert('     ');\r\n  }\r\n\r\n  //     \r\n  await loadAssembly();\r\n\r\n  loading.value = false;\r\n};\r\n\r\nfunction goToPrint() {\r\n  //if (!lastRootId.value) {\r\n    //alert(\"    .    .\");\r\n    //return;\r\n  //}\r\n  const id = route.params.id;\r\n\r\n  //     \r\n  window.location.href = `/norm/order-norm/print/${id}`;\r\n}\r\n\r\n// ---  ---\r\nconst goBack = () => {\r\n    router.push('/norm/orders/');\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.edit-norm-page {\r\n  max-width: 1000px;\r\n  margin: 20px auto;\r\n  padding: 20px;\r\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n}\r\n\r\nh2 {\r\n  color: #2c3e50;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.item-info {\r\n  display: flex;\r\n  gap: 16px;\r\n  flex-wrap: wrap;\r\n  margin-bottom: 16px;\r\n  font-size: 14px;\r\n  color: #555;\r\n}\r\n\r\n.assembly-item {\r\n  margin-bottom: 32px;\r\n  padding: 16px;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  background: #f9f9f9;\r\n}\r\n\r\n.assembly-item h3 {\r\n  margin: 0 0 12px 0;\r\n  color: #1a73e8;\r\n}\r\n\r\n.operations-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin: 12px 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.operations-table th,\r\n.operations-table td {\r\n  border: 1px solid #ccc;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n\r\n.operations-table th {\r\n  background-color: #f2f2f2;\r\n  font-weight: 600;\r\n}\r\n\r\n.input-small {\r\n  width: 80px;\r\n  padding: 6px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  text-align: center;\r\n}\r\n\r\n.input-full {\r\n  width: 95%;\r\n  padding: 6px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.actions {\r\n  margin-top: 30px;\r\n  text-align: right;\r\n}\r\n\r\n.btn-cancel {\r\n  padding: 10px 16px;\r\n  background: #6c757d;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  margin-right: 10px;\r\n}\r\n\r\n.btn-save, .btn-print {\r\n  padding: 10px 16px;\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  margin-right: 10px;\r\n  font-size: 14px;\r\n}\r\n\r\n.btn-save:disabled {\r\n  background: #aaa;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.loading, .error {\r\n  text-align: center;\r\n  font-size: 18px;\r\n  padding: 40px;\r\n  color: #555;\r\n}\r\n</style>","import script from \"./EditNormOrder.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditNormOrder.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditNormOrder.vue?vue&type=style&index=0&id=f595018a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f595018a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"assign-workers\" v-if=\"assembly\">\r\n    <h2> </h2>\r\n\r\n    <!--   -->\r\n    <div class=\"info-grid\">\r\n      <div><strong>:</strong></div>\r\n      <div>{{ assembly.main.order_num }}</div>\r\n\r\n      <div><strong>:</strong></div>\r\n      <div>{{ assembly.main.name }}</div>\r\n\r\n      <div><strong> :</strong></div>\r\n      <div class=\"total-time\">\r\n        {{ totalAssemblyTime.toFixed(3) }}  ({{ Math.round(totalAssemblyTime * 60) }} )\r\n      </div>\r\n\r\n      <div><strong> :</strong></div>\r\n      <div>{{ formatDate(assembly.main.created_at) }}</div>\r\n\r\n      <!--  \" \"       -->\r\n      <div><strong> :</strong></div>\r\n      <div>\r\n        <input\r\n            v-model=\"dateAccounting\"\r\n            type=\"date\"\r\n            class=\"input-date\"\r\n        />\r\n        <small>  </small>\r\n      </div>\r\n    </div>\r\n\r\n    <!--      -->\r\n    <div v-for=\"item in allItems\" :key=\"item.id\" class=\"item-section\">\r\n      <h3>{{ getItemTitle(item)  }}</h3>\r\n      <p>\r\n        <strong>:</strong> {{ getTypeLabel(item.type) }}\r\n      </p>\r\n\r\n      <div><strong> :</strong></div>\r\n      <div class=\"total-time\">\r\n          {{ item.total_time.toFixed(3) }}  ({{ Math.round(item.total_time * 60) }} )\r\n      </div>\r\n\r\n      <table class=\"executors-table\">\r\n        <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th> ()</th>\r\n          <th> ()</th>\r\n          <th style=\"width: 50%\">\r\n            \r\n            <div class=\"executor-headers\">\r\n              <span class=\"header-label\"></span>\r\n              <span class=\"header-label\"> ()</span>\r\n              <span class=\"header-label\"> ()</span>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"op in item.operations\" :key=\"op.operation_name\"\r\n            :class=\"{ 'missing-executor': op.executors.every(ex => !ex.employee_id) }\"\r\n        >\r\n          <td>{{ op.operation_label }}</td>\r\n          <td class=\"text-center\">{{ op.minutes }}</td>\r\n          <td class=\"text-center\">{{ op.value.toFixed(3) }}</td>\r\n          <td>\r\n            <!--  -->\r\n            <div\r\n                v-for=\"(executor, idx) in op.executors\"\r\n                :key=\"idx\"\r\n                class=\"executor-row\"\r\n            >\r\n              <select v-model=\"executor.employee_id\" class=\"select-employee\">\r\n                <option value=\"\">  </option>\r\n                <option\r\n                    v-for=\"emp in employees\"\r\n                    :key=\"emp.id\"\r\n                    :value=\"emp.id\"\r\n                    :disabled=\"isExecutorSelected(op.executors, emp.id, executor)\"\r\n                >\r\n                  {{ emp.name }}\r\n                </option>\r\n              </select>\r\n\r\n              <input\r\n                  v-model.number=\"executor.actual_minutes\"\r\n                  type=\"number\"\r\n                  placeholder=\"\"\r\n                  class=\"input-minutes\"\r\n                  min=\"0\"\r\n                  step=\"0.001\"\r\n                  @input=\"syncValue(executor)\"\r\n              />\r\n\r\n              <input\r\n                  v-model.number=\"executor.actual_value\"\r\n                  type=\"number\"\r\n                  placeholder=\"\"\r\n                  class=\"input-minutes\"\r\n                  min=\"0\"\r\n                  step=\"0.01\"\r\n                  @input=\"syncMinutes(executor)\"\r\n              />\r\n\r\n              <button\r\n                  type=\"button\"\r\n                  @click=\"removeExecutor(op, idx)\"\r\n                  class=\"btn-remove\"\r\n                  v-if=\"op.executors.length > 1\"\r\n              >\r\n                \r\n              </button>\r\n            </div>\r\n\r\n            <button type=\"button\" @click=\"addExecutor(op)\" class=\"btn-add\">\r\n              +  \r\n            </button>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div class=\"actions\">\r\n      <button @click=\"goBack\" class=\"btn-cancel\"></button>\r\n      <button @click=\"saveExecutors\" :disabled=\"loading\" class=\"btn-save\">\r\n        {{ loading ? '...' : ' ' }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div v-else-if=\"loading\" class=\"loading\"> ...</div>\r\n  <div v-else class=\"error\">   </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\n// \r\nconst assembly = ref(null);       //  : main + subs\r\nconst employees = ref([]);        //  \r\nconst loading = ref(false);\r\nconst dateAccounting = ref('');\r\n\r\nconst isExecutorSelected = (executors, empId, currentExecutor) => {\r\n  return executors.some(ex =>\r\n      ex !== currentExecutor && ex.employee_id === empId\r\n  );\r\n};\r\n\r\n// ---   ---\r\nonMounted(async () => {\r\n  const id = route.params.id;\r\n  if (!id) return;\r\n\r\n  loading.value = true;\r\n\r\n  try {\r\n    //   id  rootId      main\r\n    const assemblyRes = await fetch(`/api/orders/order-norm/${id}`);\r\n    if (!assemblyRes.ok) throw new Error('   ');\r\n    const data = await assemblyRes.json();\r\n\r\n    const processedItems = data.map(item => ({\r\n      ...item,\r\n      operations: item.operations.map(op => {\r\n        //   assign_workers      \r\n        const executors = Array.isArray(op.assign_workers) && op.assign_workers.length > 0\r\n            ? op.assign_workers.map(ex => ({\r\n              employee_id: ex.employee_id,\r\n              actual_minutes: ex.actual_minutes,\r\n              actual_value: parseFloat(ex.actual_value.toFixed(3))\r\n            }))\r\n            : [{\r\n              //        \r\n              employee_id: '',\r\n              actual_minutes: op.minutes,\r\n              actual_value: parseFloat(op.value.toFixed(3))\r\n            }];\r\n\r\n        return {\r\n          ...op,\r\n          executors //   \r\n        };\r\n      })\r\n    }));\r\n\r\n\r\n    // \r\n    const main = processedItems.find(i => i.part_type === 'main') || processedItems[0];\r\n    const subs = processedItems.filter(i => i.part_type === 'sub');\r\n\r\n\r\n    // console.log(\"MAIN\", main);\r\n    // console.log(\"SUB\", subs);\r\n\r\n    assembly.value = { main, subs };\r\n  } catch (err) {\r\n    console.error(' :', err);\r\n    alert('   ');\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n\r\n  const today = new Date().toISOString().split('T')[0];\r\n  //    ISO- ( )\r\n  const rawDate = assembly.value.main.ready_date;\r\n\r\n  let accountingDate = today;\r\n\r\n  if (rawDate) {\r\n    //  ,   ISO-\r\n    const datePart = new Date(rawDate).toISOString().split('T')[0];\r\n    // ,   \r\n    if (datePart !== 'Invalid date') {\r\n      accountingDate = datePart;\r\n    }\r\n  }\r\n\r\n  dateAccounting.value = accountingDate;\r\n\r\n  //  \r\n  try {\r\n    const empRes = await fetch('/api/workers/all');\r\n    employees.value = await empRes.json();\r\n  } catch (err) {\r\n    console.error('  :', err);\r\n  }\r\n});\r\n\r\n// ---   ---\r\nconst allItems = computed(() => {\r\n  if (!assembly.value) return [];\r\n  return [assembly.value.main, ...assembly.value.subs];\r\n});\r\n\r\n// ---     ---\r\nconst totalAssemblyTime = computed(() => {\r\n  return allItems.value.reduce((sum, item) => sum + item.total_time, 0);\r\n});\r\n\r\n// ---   ---\r\nconst formatDate = (dateStr) => {\r\n  if (!dateStr) return '';\r\n  return new Date(dateStr).toLocaleDateString('ru-RU');\r\n};\r\n\r\nconst getItemTitle = (item) => {\r\n  if (item.part_type === 'main') return `${item.name}`;\r\n  return `${item.name} ( )`;\r\n};\r\n\r\nconst getTypeLabel = (type) => {\r\n  const labels = {\r\n    window: '',\r\n    glyhar: '',\r\n    door: '',\r\n    loggia: '',\r\n    vitrage: ''\r\n  };\r\n  return labels[type] || type;\r\n};\r\n\r\n// --- :    ---\r\nconst syncValue = (executor) => {\r\n  const minutes = Number(executor.actual_minutes);\r\n  executor.actual_value = isNaN(minutes) ? 0 : parseFloat((minutes / 60).toFixed(3));\r\n};\r\n\r\nconst syncMinutes = (executor) => {\r\n  const hours = Number(executor.actual_value);\r\n  executor.actual_minutes = isNaN(hours) ? 0 : Number((hours * 60).toFixed(3));\r\n};\r\n\r\n// ---    ---\r\n\r\n//   \r\nconst addExecutor = (op) => {\r\n  //       (op.minutes)\r\n  const totalValue = op.value; // , 60 \r\n  const newCount = op.executors.length + 1;\r\n\r\n  const perPersonValue = parseFloat((totalValue / newCount).toFixed(3));\r\n\r\n  op.executors.push({\r\n    employee_id: '',\r\n    actual_minutes: Number(parseFloat((perPersonValue * 60).toFixed(3))),\r\n    actual_value: perPersonValue\r\n  });\r\n\r\n  //  \r\n  updateExecutorsEvenly(op);\r\n};\r\n\r\n//  \r\nconst removeExecutor = (op, idx) => {\r\n  if (op.executors.length <= 1) return;\r\n  op.executors.splice(idx, 1);\r\n\r\n  //        \r\n  updateExecutorsEvenly(op);\r\n};\r\n\r\n//    \r\nconst updateExecutorsEvenly = (op) => {\r\n  const totalValue = op.value; //   \r\n  const count = op.executors.length;\r\n\r\n  if (count === 0) return;\r\n\r\n  const perPersonValue = parseFloat((totalValue / count).toFixed(3));\r\n\r\n  op.executors.forEach(ex => {\r\n    ex.actual_minutes = Number(parseFloat((perPersonValue * 60).toFixed(3)));\r\n    ex.actual_value = perPersonValue;\r\n  });\r\n};\r\n\r\n// ---  ---\r\nconst saveExecutors = async () => {\r\n  const payload = {\r\n    assignments: [],\r\n    update_status: \"assigned\",\r\n    root_product_id: assembly.value.main.id,\r\n    ready_date: dateAccounting.value,\r\n  };\r\n\r\n  const errors = [];\r\n\r\n  for (const item of allItems.value) {\r\n    for (const op of item.operations) {\r\n\r\n      const validExecutors = op.executors.filter(ex => ex.employee_id);\r\n      if (validExecutors.length === 0) {\r\n        errors.push(` \"${op.operation_label}\" (${item.name})    `);\r\n        continue;\r\n      }\r\n      for (const exec of op.executors) {\r\n        if (!exec.employee_id) {\r\n          errors.push(`  \"${op.operation_label}\" (${item.name})    `);\r\n        }\r\n        if (exec.employee_id) {\r\n          payload.assignments.push({\r\n            product_id: item.id,\r\n            operation_name: op.operation_name,\r\n            employee_id: exec.employee_id,\r\n            actual_minutes: exec.actual_minutes || op.minutes,\r\n            actual_value: exec.actual_value || op.value,\r\n            notes: ''\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  //      \r\n  if (errors.length > 0) {\r\n    alert('   :\\n\\n' + errors.join('\\n'));\r\n    return;\r\n  }\r\n\r\n  if (payload.assignments.length === 0) {\r\n    alert('     ');\r\n    return;\r\n  }\r\n\r\n  //console.log(\"PAYYY\", payload);\r\n\r\n  try {\r\n    const res = await fetch('/api/workers', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(payload)\r\n    });\r\n\r\n    if (res.ok) {\r\n      //alert('  ');\r\n      router.push('/norm/orders');\r\n    }\r\n  } catch (err) {\r\n    console.error(' :', err);\r\n    //alert('  ');\r\n  }\r\n};\r\n\r\n// ---  ---\r\nconst goBack = () => {\r\n  router.back();\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.assign-workers {\r\n  max-width: 1000px;\r\n  margin: 20px auto;\r\n  padding: 20px;\r\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n}\r\n\r\n.info-grid {\r\n  display: grid;\r\n  grid-template-columns: 180px 1fr;\r\n  gap: 8px 12px;\r\n  margin-bottom: 24px;\r\n  font-size: 14px;\r\n}\r\n\r\n.info-grid > div {\r\n  margin: 0;\r\n}\r\n\r\n.total-time {\r\n  font-weight: bold;\r\n}\r\n\r\n.item-section {\r\n  margin-bottom: 32px;\r\n  padding: 16px;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  background: #f9f9f9;\r\n}\r\n\r\nh3 {\r\n  color: #2c3e50;\r\n  margin: 0 0 12px 0;\r\n}\r\n\r\n.executors-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin: 12px 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.executors-table th,\r\n.executors-table td {\r\n  border: 1px solid #ddd;\r\n  padding: 12px;\r\n  text-align: left;\r\n}\r\n\r\n.executors-table th {\r\n  background: #f8f9fa;\r\n  font-weight: 600;\r\n}\r\n\r\n.text-center {\r\n  text-align: center;\r\n}\r\n\r\n/*   */\r\n.executor-row {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-bottom: 6px;\r\n  align-items: center;\r\n}\r\n\r\n.select-employee {\r\n  flex: 1;\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.input-minutes {\r\n  width: 100px;\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  text-align: right;\r\n}\r\n\r\n.btn-remove {\r\n  background: #e74c3c;\r\n  color: white;\r\n  border: none;\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n}\r\n\r\n.btn-add {\r\n  margin-top: 4px;\r\n  padding: 6px 10px;\r\n  background: #28a745;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n}\r\n\r\n.btn-add:hover {\r\n  background: #218838;\r\n}\r\n\r\n.actions {\r\n  margin-top: 30px;\r\n  text-align: right;\r\n}\r\n\r\n.btn-cancel {\r\n  padding: 10px 16px;\r\n  background: #6c757d;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  margin-right: 10px;\r\n}\r\n\r\n.btn-save {\r\n  padding: 10px 16px;\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-save:disabled {\r\n  background: #6c757d;\r\n}\r\n\r\n.loading, .error {\r\n  text-align: center;\r\n  padding: 40px;\r\n  color: #6c757d;\r\n}\r\n\r\n.missing-executor {\r\n  background-color: #fff3cd;\r\n  border-left: 4px solid #ffc107;\r\n}\r\n\r\n.executor-headers {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 6px;\r\n  font-size: 11px;\r\n  color: #6c757d;\r\n  text-align: right;\r\n}\r\n\r\n.header-label {\r\n  flex: 1;\r\n  white-space: nowrap;\r\n}\r\n\r\n.input-date {\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/*  small    */\r\n.info-grid small {\r\n  display: block;\r\n  margin-top: 4px;\r\n}\r\n\r\n.input-date,\r\n.select-employee,\r\n.input-minutes {\r\n  width: 20%;\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.input-date {\r\n  /*    date-picker    */\r\n  padding-right: 10px;\r\n}\r\n\r\n/*      */\r\n.info-grid small {\r\n  display: block;\r\n  margin-top: 4px;\r\n  font-size: 11px;\r\n  color: #666;\r\n  line-height: 1.2;\r\n}\r\n\r\n</style>","import script from \"./AssignWorkers.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AssignWorkers.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AssignWorkers.vue?vue&type=style&index=0&id=65d3bb60&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-65d3bb60\"]])\n\nexport default __exports__","<script setup>\r\n/* eslint-disable */\r\nimport { ref, computed, watch } from 'vue';\r\n\r\nconst props = defineProps({\r\n  product: Object,\r\n  employees: Array\r\n});\r\n\r\nconst emit = defineEmits(['close', 'cancel']);\r\n\r\n//     \r\nconst localProduct = ref({ ...props.product });\r\n\r\n//     customer_type\r\nconst customerTypeOptions = [\r\n  { value: '', label: '' },\r\n  { value: '', label: '' },\r\n  { value: '', label: '' }\r\n];\r\n\r\n//    \r\nconst doorTypeOptions = [\r\n  '1',\r\n  '1',\r\n  '1.5',\r\n  '1.5',\r\n  '2',\r\n  '2'\r\n];\r\n\r\nconst profileType = [\r\n  {value: '', label: ' '},\r\n  {value: '', label: ' '},\r\n  {value: '', label: ' '},\r\n  {value: '', label: ' '},\r\n  {value: '', label: ''},\r\n]\r\n\r\nconst systemaType = [\r\n  {value: '', label: ''},\r\n  {value: '', label: ''},\r\n]\r\n\r\nconst isDoor = computed(() => {\r\n  return localProduct.value.type === 'door';\r\n});\r\n\r\n//  \r\nconst brigadeTypeOptions = ['', ' , ', ' '];\r\n\r\n// ===  ===\r\nconst errors = ref({});\r\n\r\n//    ( parent_assembly)\r\nconst validate = () => {\r\n  errors.value = {};\r\n\r\n  const requiredFields = [\r\n    { key: 'type_izd', label: '' },\r\n    { key: 'systema', label: '' },\r\n    { key: 'profile', label: '' },\r\n    { key: 'sqr', label: '' },\r\n    { key: 'brigade', label: '' },\r\n    { key: 'norm_money', label: '/' },\r\n    { key: 'customer_type', label: ' ' },\r\n    { key: 'coefficient', label: ''}\r\n  ];\r\n\r\n  requiredFields.forEach(field => {\r\n    const value = localProduct.value[field.key];\r\n    if (!value || (typeof value === 'string' && !value.trim())) {\r\n      errors.value[field.key] = true;\r\n    }\r\n  });\r\n\r\n  //     \r\n  if (isNaN(parseFloat(localProduct.value.sqr)) || parseFloat(localProduct.value.sqr) < 0) {\r\n    errors.value.sqr = true;\r\n  }\r\n  if (isNaN(parseFloat(localProduct.value.norm_money)) || parseFloat(localProduct.value.norm_money) < 0) {\r\n    errors.value.norm_money = true;\r\n  }\r\n\r\n  return Object.keys(errors.value).length === 0;\r\n};\r\n\r\n// === ,    ===\r\nconst isFormValid = computed(() => {\r\n  return validate();\r\n});\r\n\r\n// ===  ===\r\nconst save = () => {\r\n  if (validate()) {\r\n    emit('close', localProduct.value);\r\n  }\r\n};\r\n\r\n// :    norm_money?\r\nconst isNormMoneyEdited = ref(false);\r\n\r\nconst recalculateNormMoney = () => {\r\n  if (isNormMoneyEdited.value) return;\r\n\r\n  const total = parseFloat(localProduct.value.total_time);\r\n  const coef = parseFloat(localProduct.value.coefficient);\r\n\r\n  if (!isNaN(total) && !isNaN(coef)) {\r\n    localProduct.value.norm_money = parseFloat((total * coef).toFixed(3));\r\n  }\r\n}\r\n\r\n//   \r\nwatch(\r\n    () => localProduct.value.coefficient,\r\n    () => {\r\n      if (!isNormMoneyEdited.value) {\r\n        recalculateNormMoney();\r\n      }\r\n    }\r\n);\r\n\r\n//       norm_money\r\nconst handleNormMoneyFocus = () => {\r\n  isNormMoneyEdited.value = false;\r\n};\r\n\r\n//    norm_money   \r\nconst handleNormMoneyInput = (e) => {\r\n  isNormMoneyEdited.value = true;\r\n  localProduct.value.norm_money = parseFloat(e.target.value) || 0;\r\n};\r\n\r\nconst initNormMoney = () => {\r\n  //  norm_money   (  0),    ( )\r\n  if (localProduct.value.norm_money && localProduct.value.norm_money > 0) {\r\n    return;\r\n  }\r\n\r\n  const total = parseFloat(localProduct.value.total_time);\r\n  const coef = parseFloat(localProduct.value.coefficient);\r\n\r\n  console.log(\"SASAS\", total)\r\n\r\n  if (!isNaN(total) && !isNaN(coef) && coef > 0) {\r\n    localProduct.value.norm_money = parseFloat((total * coef).toFixed(3));\r\n    isNormMoneyEdited.value = false;\r\n  }\r\n};\r\n\r\n//   \r\ninitNormMoney();\r\n\r\nconst cancel = () => {\r\n  emit('cancel');\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"modal-overlay\" @click=\"cancel\">\r\n    <div class=\"modal-content\" @click.stop>\r\n      <h3> </h3>\r\n\r\n      <!--  ( ) -->\r\n      <div class=\"form-group\">\r\n        <label></label>\r\n        <input\r\n            v-model=\"localProduct.parent_assembly\"\r\n            class=\"form-input\"\r\n            placeholder=\"\"\r\n        />\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"form-group\" :class=\"{ 'error': errors.type_izd }\">\r\n        <label></label>\r\n\r\n        <!--      -->\r\n        <select\r\n            v-if=\"isDoor\"\r\n            v-model=\"localProduct.type_izd\"\r\n            class=\"form-select\"\r\n            :class=\"{ 'invalid': errors.type_izd }\"\r\n            @change=\"validate\"\r\n        >\r\n          <option value=\"\" disabled>  </option>\r\n          <option v-for=\"opt in doorTypeOptions\" :key=\"opt\" :value=\"opt\">\r\n            {{ opt }}\r\n          </option>\r\n        </select>\r\n\r\n        <!--      -->\r\n        <input\r\n            v-else\r\n            v-model=\"localProduct.type_izd\"\r\n            class=\"form-input\"\r\n            :class=\"{ 'invalid': errors.type_izd }\"\r\n            @blur=\"validate\"\r\n        />\r\n\r\n        <span v-if=\"errors.type_izd\" class=\"error-text\"> </span>\r\n      </div>\r\n\r\n      <!--   -->\r\n      <div class=\"form-group\" :class=\"{ 'error': errors.customer_type }\">\r\n        <label> </label>\r\n        <select\r\n            v-model=\"localProduct.customer_type\"\r\n            class=\"form-select\"\r\n            :class=\"{ 'invalid': errors.customer_type }\"\r\n            @change=\"validate\"\r\n        >\r\n          <option value=\"\" disabled> </option>\r\n          <option\r\n              v-for=\"opt in customerTypeOptions\"\r\n              :key=\"opt.value\"\r\n              :value=\"opt.value\"\r\n          >\r\n            {{ opt.label }}\r\n          </option>\r\n        </select>\r\n        <span v-if=\"errors.customer_type\" class=\"error-text\"> </span>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"form-group\" :class=\"{ 'error': errors.systema }\">\r\n        <label></label>\r\n        <select\r\n            v-model=\"localProduct.systema\"\r\n            class=\"form-select\"\r\n            :class=\"{ 'invalid': errors.systema }\"\r\n            @change=\"validate\"\r\n        >\r\n          <option value=\"\" disabled>   </option>\r\n          <option\r\n              v-for=\"opt in systemaType\"\r\n              :key=\"opt.value\"\r\n              :value=\"opt.value\"\r\n          >\r\n            {{ opt.label }}\r\n          </option>\r\n        </select>\r\n        <span v-if=\"errors.systema\" class=\"error-text\"> </span>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"form-group\" :class=\"{ 'error': errors.profile }\">\r\n        <label></label>\r\n        <select\r\n          v-model=\"localProduct.profile\"\r\n          class=\"form-select\"\r\n          :class=\"{'invalid': errors.profile}\"\r\n          @change=\"validate\"\r\n        >\r\n          <option value=\"\" disabled>   </option>\r\n          <option\r\n            v-for=\"opt in profileType\"\r\n            :key=\"opt.value\"\r\n            :value=\"opt.value\"\r\n          >\r\n            {{ opt.label }}\r\n          </option>\r\n\r\n        </select>\r\n        <span v-if=\"errors.profile\" class=\"error-text\"> </span>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"form-group\" :class=\"{ 'error': errors.sqr }\">\r\n        <label></label>\r\n        <input\r\n            v-model.number=\"localProduct.sqr\"\r\n            type=\"number\"\r\n            step=\"0.001\"\r\n            min=\"0\"\r\n            class=\"form-input\"\r\n            :class=\"{ 'invalid': errors.sqr }\"\r\n            @blur=\"validate\"\r\n        />\r\n        <span v-if=\"errors.sqr\" class=\"error-text\">  </span>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"form-group\" :class=\"{ 'error': errors.brigade }\">\r\n        <label></label>\r\n        <select\r\n            v-model=\"localProduct.brigade\"\r\n            class=\"form-select\"\r\n            :class=\"{ 'invalid': errors.brigade }\"\r\n            @change=\"validate\"\r\n        >\r\n          <option value=\"\" disabled> </option>\r\n          <option v-for=\"opt in brigadeTypeOptions\" :key=\"opt\" :value=\"opt\">\r\n            {{ opt }}\r\n          </option>\r\n        </select>\r\n        <span v-if=\"errors.brigade\" class=\"error-text\"> </span>\r\n      </div>\r\n\r\n<!--      -->\r\n      <div class=\"form-group\" :class=\"{ 'error': errors.coefficient }\">\r\n        <label></label>\r\n        <input\r\n            v-model.number=\"localProduct.coefficient\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            min=\"0\"\r\n            class=\"form-input\"\r\n            :class=\"{ 'invalid': errors.coefficient }\"\r\n            @blur=\"validate\"\r\n        />\r\n        <span v-if=\"errors.coefficient\" class=\"error-text\"> </span>\r\n      </div>\r\n\r\n      <!-- / -->\r\n      <div class=\"form-group\" :class=\"{ 'error': errors.norm_money }\">\r\n        <label>/</label>\r\n        <input\r\n            :value=\"localProduct.norm_money\"\r\n            @input=\"handleNormMoneyInput\"\r\n            @focus=\"handleNormMoneyFocus\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            min=\"0\"\r\n            class=\"form-input\"\r\n            :class=\"{ 'invalid': errors.norm_money }\"\r\n            @blur=\"validate\"\r\n        />\r\n        <span v-if=\"errors.norm_money\" class=\"error-text\">   </span>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"modal-actions\">\r\n        <button @click=\"cancel\" class=\"btn-cancel\"></button>\r\n        <button @click=\"save\" class=\"btn-save\" :disabled=\"!isFormValid\">\r\n          \r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0; left: 0; right: 0; bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  padding: 40px;\r\n  border-radius: 8px;\r\n  width: 400px;\r\n  max-width: 90vw;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 6px;\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  color: #333;\r\n}\r\n\r\n/*      */\r\n.form-input,\r\n.form-select {\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  transition: border-color 0.2s;\r\n}\r\n\r\n.form-input:focus,\r\n.form-select:focus {\r\n  outline: none;\r\n  border-color: #2563eb;\r\n}\r\n\r\n/*  */\r\n.form-input.invalid,\r\n.form-select.invalid {\r\n  border-color: #e53e3e;\r\n  background-color: #fef2f2;\r\n}\r\n\r\n.error-text {\r\n  font-size: 12px;\r\n  color: #e53e3e;\r\n  margin-top: 4px;\r\n  display: block;\r\n}\r\n\r\n/*   */\r\n.btn-save:disabled {\r\n  background: #a0aec0;\r\n  cursor: not-allowed;\r\n  opacity: 0.8;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: flex-end;\r\n  margin-top: 24px;\r\n}\r\n\r\n.btn-cancel {\r\n  padding: 8px 16px;\r\n  background: #e2e8f0;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n}\r\n\r\n.btn-cancel:hover {\r\n  background: #cbd5e0;\r\n}\r\n\r\n.btn-save {\r\n  padding: 8px 16px;\r\n  background: #2563eb;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n}\r\n\r\n.btn-save:hover:not(:disabled) {\r\n  background: #1d4ed8;\r\n}\r\n</style>","import script from \"./EditProductModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditProductModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditProductModal.vue?vue&type=style&index=0&id=71257e06&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-71257e06\"]])\n\nexport default __exports__","<script setup>\r\n/* eslint-disable */\r\nimport { computed } from 'vue';\r\nimport { ref } from 'vue';\r\n\r\nconst props = defineProps({\r\n  products: {\r\n    type: Array,\r\n    required: true\r\n  }\r\n});\r\n\r\n\r\nfunction normalize(str) {\r\n  return (str || '').trim().toLowerCase();\r\n}\r\n\r\nfunction aggregate(items) {\r\n  const total = items.reduce((acc, p) => {\r\n    acc.count += parseFloat(p.count) || 0;\r\n    acc.sqr += parseFloat(p.sqr) || 0;\r\n    acc.hours += parseFloat(p.total_time) || 0;\r\n    acc.money += parseFloat(p.norm_money) || 0;\r\n    return acc;\r\n  }, { count: 0, sqr: 0, hours: 0, money: 0 });\r\n\r\n  return {\r\n    count: parseFloat(total.count.toFixed(3)),\r\n    sqr: parseFloat(total.sqr.toFixed(3)),\r\n    hours: parseFloat(total.hours.toFixed(3)),\r\n    money: parseFloat(total.money.toFixed(3))\r\n  };\r\n}\r\n\r\nconst summaryData = computed(() => {\r\n  const products = props.products;\r\n\r\n  // --- 1.     ---\r\n  const coldWindows = products.filter(p =>\r\n      (p.type === 'window' || p.type === 'glyhar') && normalize(p.systema).includes('') && normalize(p.type_izd) !== '  '\r\n  );\r\n\r\n  const hotWindows = products.filter(p =>\r\n      (p.type === 'window' || p.type === 'glyhar') && normalize(p.systema).includes('') && normalize(p.type_izd) !== '  '\r\n  );\r\n\r\n  // --- 2.   ( ,     ) ---\r\n  // const glyhar = products.filter(p =>\r\n  //     p.type === 'glyhar' &&\r\n  //     normalize(p.type_izd) !== '  '\r\n  // );\r\n\r\n  // --- 3.    () ---\r\n  const vitrajDoors = products.filter(p =>\r\n      p.type === 'glyhar' &&\r\n      normalize(p.type_izd) === '  '\r\n  );\r\n\r\n  // --- 4.   = cold + hot +   ---\r\n  const allWindows = [...coldWindows, ...hotWindows, ...vitrajDoors];\r\n\r\n  const allDoors1p = products.filter(p =>p.type ==='door' && (p.type_izd === '1' || p.type_izd === '1'));\r\n  const allDoors15p = products.filter(p =>p.type ==='door' && (p.type_izd === '1.5' || p.type_izd === '1.5'));\r\n  const allDoors2p = products.filter(p =>p.type ==='door' && (p.type_izd === '2' || p.type_izd === '2'));\r\n\r\n  const loggias = products.filter(p => p.type === 'loggia');\r\n  const mosquitoNets = products.filter(p => p.type === 'ms');\r\n\r\n  const coldStats = aggregate(coldWindows);\r\n  const hotStats = aggregate(hotWindows);\r\n  const allWindowStats = aggregate(allWindows);\r\n  //const glyharStats = aggregate(glyhar);\r\n  const vitrajStats = aggregate(vitrajDoors);\r\n\r\n  const loggiaStats = aggregate(loggias);\r\n  const mosquitoStats = aggregate(mosquitoNets);\r\n\r\n  const allDoor1p = aggregate(allDoors1p)\r\n  const allDoor15p = aggregate(allDoors15p)\r\n  const allDoor2p = aggregate(allDoors2p)\r\n\r\n  //  \r\n  const windowGroups = [\r\n    { type_izd: ' ', profile: '', ...coldStats },\r\n    { type_izd: ' ', profile: '', ...hotStats },\r\n    //{ type_izd: '  ', profile: '', ...glyharStats },\r\n    { type_izd: '  ', profile: '', ...vitrajStats },\r\n    { type_izd: ' ', profile: '', ...allWindowStats },\r\n    { type_izd: ' 1 ', profile: '', ...allDoor1p },\r\n    { type_izd: ' 1.5 ', profile: '', ...allDoor15p },\r\n    { type_izd: ' 2 ', profile: '', ...allDoor2p },\r\n  ].filter(g => g.count > 0);\r\n\r\n  const loggiaGroup = loggiaStats.count > 0 ? [{\r\n    type_izd: '',\r\n    profile: '',\r\n    ...loggiaStats\r\n  }] : [];\r\n\r\n  const mosquitoGroup = mosquitoStats.count > 0 ? [{\r\n    type_izd: ' ',\r\n    profile: '',\r\n    ...mosquitoStats\r\n  }] : [];\r\n\r\n  //  (  , )\r\n  const total = [allWindowStats, allDoor1p, allDoor15p, allDoor2p]\r\n      .reduce((acc, g) => ({\r\n        count: acc.count + g.count,\r\n        sqr: acc.sqr + g.sqr,\r\n        hours: acc.hours + g.hours,\r\n        money: acc.money + g.money\r\n      }), { count: 0, sqr: 0, hours: 0, money: 0 });\r\n\r\n  const totalRounded = {\r\n    count: parseFloat(total.count.toFixed(3)),\r\n    sqr: parseFloat(total.sqr.toFixed(3)),\r\n    hours: parseFloat(total.hours.toFixed(3)),\r\n    money: parseFloat(total.money.toFixed(3))\r\n  };\r\n\r\n  return {\r\n    windowGroups,\r\n    loggiaGroup,\r\n    mosquitoGroup,\r\n    totalRounded\r\n  };\r\n});\r\n\r\n//    \r\nconst expectedGroups = [\r\n  { type_izd: ' .', profile: '' },\r\n  { type_izd: ' .', profile: '' },\r\n  { type_izd: ' .', profile: '' },\r\n  { type_izd: ' .', profile: '' },\r\n  { type_izd: ' .', profile: '' },\r\n  { type_izd: ' .-.', profile: '' },\r\n  { type_izd: ' .-.', profile: '' },\r\n  { type_izd: ' .-.', profile: '' },\r\n  { type_izd: ' .-.', profile: '' },\r\n  { type_izd: ' .-.', profile: '' },\r\n  { type_izd: '1', profile: ''},\r\n  { type_izd: '1', profile: ''},\r\n  { type_izd: '1', profile: '' },\r\n  { type_izd: '1', profile: '' },\r\n  { type_izd: '1', profile: '' },\r\n  { type_izd: '1.5', profile: '' },\r\n  { type_izd: '1.5', profile: '' },\r\n  { type_izd: '1.5', profile: '' },\r\n  { type_izd: '1.5', profile: '' },\r\n  { type_izd: '1.5', profile: '' },\r\n  { type_izd: '2', profile: '' },\r\n  { type_izd: '2', profile: '' },\r\n  { type_izd: '2', profile: '' },\r\n  { type_izd: '2', profile: '' },\r\n  { type_izd: '2', profile: '' }\r\n];\r\n\r\nfunction getFixedGroupingWithUnmatched(products) {\r\n  const mapKey = (p) => {\r\n    const typeIzd = (p.type_izd || '').trim();\r\n    const profile = (p.profile == null ? '' : String(p.profile).trim());\r\n    return `${typeIzd}__${profile}`;\r\n  };\r\n\r\n  //    \r\n  const expectedKeys = new Set(\r\n      expectedGroups.map(g => {\r\n        const typeIzd = (g.type_izd || '').trim();\r\n        const profile = (g.profile == null ? '' : String(g.profile).trim());\r\n        return `${typeIzd}__${profile}`;\r\n      })\r\n  );\r\n\r\n  const productMap = new Map();\r\n  const unmatched = []; //    \"\"\r\n\r\n  products.forEach(p => {\r\n    const key = mapKey(p);\r\n    if (expectedKeys.has(key)) {\r\n      if (!productMap.has(key)) {\r\n        productMap.set(key, { count: 0, sqr: 0, hours: 0, money: 0 });\r\n      }\r\n      const acc = productMap.get(key);\r\n      acc.count += p.count || 0;\r\n      acc.sqr += p.sqr || 0;\r\n      acc.hours += p.total_time || 0;\r\n      acc.money += p.norm_money || 0;\r\n    } else {\r\n      //       \r\n      unmatched.push(p);\r\n    }\r\n  });\r\n\r\n  //   \r\n  const fixedGroups = expectedGroups.map(group => {\r\n    const safeProfile = (group.profile == null ? '' : String(group.profile).trim());\r\n    const key = `${group.type_izd.trim()}__${safeProfile}`;\r\n    const data = productMap.get(key) || { count: 0, sqr: 0, hours: 0, money: 0 };\r\n    return {\r\n      type_izd: group.type_izd,\r\n      profile: group.profile,\r\n      count: parseFloat(data.count.toFixed(3)),\r\n      sqr: parseFloat(data.sqr.toFixed(3)),\r\n      hours: parseFloat(data.hours.toFixed(3)),\r\n      money: parseFloat(data.money.toFixed(3))\r\n    };\r\n  });\r\n\r\n  return { fixedGroups, unmatched };\r\n}\r\n\r\nconst groupingResult = computed(() => {\r\n  return getFixedGroupingWithUnmatched(props.products);\r\n});\r\n\r\nconst fixedGroupsShow = computed(() => groupingResult.value.fixedGroups);\r\nconst unmatchedProducts = computed(() => groupingResult.value.unmatched);\r\n\r\nconst isDetailsOpen = ref(false);\r\n\r\nconst formatType = (type) => {\r\n  const map = {\r\n    'window': '',\r\n    'door': '',\r\n    'loggia': '',\r\n    'ms': ' ',\r\n    'glyhar': ' ',\r\n  };\r\n  return map[type] || type;\r\n};\r\n\r\n</script>\r\n\r\n<template>\r\n  <!--    -->\r\n  <div v-if=\"!props.products.length\" class=\"no-data\">\r\n       .\r\n  </div>\r\n\r\n  <!--    -->\r\n  <div v-if=\"summaryData.windowGroups.length > 0\" class=\"summary-stats\">\r\n    <h4>  </h4>\r\n    <table class=\"summary-table\">\r\n        <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th></th>\r\n          <th>-</th>\r\n          <th>, </th>\r\n          <th>/</th>\r\n          <th>/</th>\r\n        </tr>\r\n        </thead>\r\n      <tbody>\r\n      <tr v-for=\"group in summaryData.windowGroups\" :key=\"group.type_izd\">\r\n        <td>{{ group.type_izd }}</td>\r\n        <td>{{ group.profile }}</td>\r\n        <td>{{ group.count }}</td>\r\n        <td>{{ group.sqr }}</td>\r\n        <td>{{ group.hours }}</td>\r\n        <td>{{ group.money }}</td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n    </div>\r\n\r\n  <!--  -->\r\n  <div v-if=\"summaryData.loggiaGroup.length > 0\" class=\"summary-stats\">\r\n    <h4></h4>\r\n    <table class=\"summary-table\">\r\n      <tbody>\r\n      <tr v-for=\"group in summaryData.loggiaGroup\" :key=\"group.type_izd\">\r\n        <td>{{ group.type_izd }}</td>\r\n        <td>{{ group.profile }}</td>\r\n        <td>{{ group.count }}</td>\r\n        <td>{{ group.sqr }}</td>\r\n        <td>{{ group.hours }}</td>\r\n        <td>{{ group.money }}</td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n  <!--   -->\r\n  <div v-if=\"summaryData.mosquitoGroup.length > 0\" class=\"summary-stats\">\r\n    <h4> </h4>\r\n    <table class=\"summary-table\">\r\n      <tbody>\r\n      <tr v-for=\"group in summaryData.mosquitoGroup\" :key=\"group.type_izd\">\r\n        <td>{{ group.type_izd }}</td>\r\n        <td>{{ group.profile }}</td>\r\n        <td>{{ group.count }}</td>\r\n        <td>{{ group.sqr }}</td>\r\n        <td>{{ group.hours }}</td>\r\n        <td>{{ group.money }}</td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n  <!--   -->\r\n  <div v-if=\"summaryData.totalRounded.count > 0\" class=\"summary-stats total-summary\">\r\n    <h4>  </h4>\r\n    <table class=\"summary-table\">\r\n      <thead>\r\n      <tr>\r\n        <th></th>\r\n        <th></th>\r\n        <th>-</th>\r\n        <th>, </th>\r\n        <th>/</th>\r\n        <th>/</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr class=\"total-row\">\r\n        <td colspan=\"2\"><strong>:</strong></td>\r\n        <td><strong>{{ summaryData.totalRounded.count }}</strong></td>\r\n        <td><strong>{{ summaryData.totalRounded.sqr }}</strong></td>\r\n        <td><strong>{{ summaryData.totalRounded.hours }}</strong></td>\r\n        <td><strong>{{ summaryData.totalRounded.money }}</strong></td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n  <!--   -->\r\n  <div class=\"toggle-section\">\r\n    <button @click=\"isDetailsOpen = !isDetailsOpen\" class=\"btn-toggle\">\r\n      {{ isDetailsOpen ? ' ' : '  ' }}\r\n    </button>\r\n  </div>\r\n\r\n  <!--   ( ) -->\r\n  <transition name=\"slide\">\r\n<!--         -->\r\n    <div v-if=\"isDetailsOpen && fixedGroupsShow.length > 0\" class=\"summary-stats detailed-grouping\">\r\n      <h4>  </h4>\r\n      <table class=\"summary-table\">\r\n        <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th></th>\r\n          <th>-</th>\r\n          <th>, </th>\r\n          <th>/</th>\r\n          <th>/</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"g in fixedGroupsShow\" :key=\"`${g.type_izd}_${g.profile}`\">\r\n          <td>{{ g.type_izd }}</td>\r\n          <td>{{ g.profile }}</td>\r\n          <td>{{ g.count }}</td>\r\n          <td>{{ g.sqr }}</td>\r\n          <td>{{ g.hours }}</td>\r\n          <td>{{ g.money }}</td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <!--        -->\r\n      <div v-if=\"isDetailsOpen && unmatchedProducts.length > 0\" class=\"summary-stats unmatched-grouping\">\r\n        <h4 style=\"color: #e53e3e;\"> ,    </h4>\r\n        <p style=\"font-size: 12px; color: #e53e3e; margin-bottom: 8px;\">\r\n                  .\r\n              .\r\n        </p>\r\n        <table class=\"summary-table\">\r\n          <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th></th>\r\n            <th></th>\r\n            <th></th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          <tr v-for=\"p in unmatchedProducts\" :key=\"p.id\">\r\n            <td>{{ p.order_num }}</td>\r\n            <td>{{ p.type_izd }}</td>\r\n            <td>{{ p.profile }}</td>\r\n            <td>{{ formatType(p.type) }}</td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<style scoped>\r\n.no-data {\r\n  text-align: center;\r\n  color: #666;\r\n  font-style: italic;\r\n  padding: 20px;\r\n}\r\n\r\n.summary-stats {\r\n  background: #f8fafc;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.summary-stats h4 {\r\n  margin: 0 0 12px 0;\r\n  color: #2d3748;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n}\r\n\r\n.summary-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 13px;\r\n  background: white;\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.summary-table th,\r\n.summary-table td {\r\n  padding: 8px 10px;\r\n  text-align: center;\r\n  border-bottom: 1px solid #e2e8f0;\r\n}\r\n\r\n.summary-table th {\r\n  background-color: #edf2f7;\r\n  color: #4a5568;\r\n  font-weight: 600;\r\n}\r\n\r\n.total-row {\r\n  background-color: #ebf8ff !important;\r\n  font-weight: bold;\r\n  color: #2b6cb0;\r\n}\r\n\r\n.toggle-section {\r\n  margin: 16px 0;\r\n  text-align: center;\r\n}\r\n\r\n.btn-toggle {\r\n  padding: 8px 16px;\r\n  background-color: #edf2f7;\r\n  color: #4a5568;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-toggle:hover {\r\n  background-color: #e2e8f0;\r\n}\r\n\r\n.unmatched-grouping {\r\n  border: 1px solid #fed7d7;\r\n  background-color: #fff5f5;\r\n}\r\n\r\n</style>","import script from \"./SummaryStats.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SummaryStats.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SummaryStats.vue?vue&type=style&index=0&id=5533f081&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5533f081\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"peo-report\">\r\n    <!--    -->\r\n    <div class=\"filters\">\r\n      <!--  -->\r\n      <div class=\"filter-group\">\r\n        <label for=\"year-select\"></label>\r\n        <select id=\"year-select\" v-model=\"year\" @change=\"loadData\" class=\"filter-select\">\r\n          <option v-for=\"y in [2023, 2024, 2025, 2026, 2027]\" :key=\"y\">{{ y }}</option>\r\n        </select>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"filter-group\">\r\n        <label for=\"month-select\"></label>\r\n        <select id=\"month-select\" v-model=\"month\" @change=\"loadData\" class=\"filter-select\">\r\n          <option v-for=\"(name, index) in months\" :key=\"index + 1\" :value=\"index + 1\">\r\n            {{ name }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n\r\n      <!--   -->\r\n      <div class=\"filter-group\">\r\n        <label for=\"order-input\"> </label>\r\n        <input\r\n            id=\"order-input\"\r\n            type=\"text\"\r\n            v-model=\"orderNum\"\r\n            placeholder=\"\"\r\n            @input=\"loadData\"\r\n            class=\"filter-input\"\r\n        />\r\n      </div>\r\n\r\n      <!--   -->\r\n      <div class=\"type-filters\">\r\n        <label v-for=\"(group, key) in typeGroups\" :key=\"key\" class=\"checkbox-label\">\r\n          <input\r\n              type=\"checkbox\"\r\n              :value=\"key\"\r\n              v-model=\"selectedTypes\"\r\n              @change=\"loadData\"\r\n              class=\"checkbox-input\"\r\n          />\r\n          <span class=\"checkbox-text\">{{ group.label }}</span>\r\n        </label>\r\n      </div>\r\n    </div>\r\n\r\n    <!--   -->\r\n    <SummaryReport :products=\"filteredProductsWithRowNumber\" />\r\n\r\n    <!--   (  ) -->\r\n    <EditProductModal\r\n        v-if=\"editingProduct\"\r\n        :product=\"editingProduct\"\r\n        :employees=\"employees\"\r\n        @close=\"saveAndClose\"\r\n        @cancel=\"editingProduct = null\"\r\n    />\r\n\r\n    <!--  -->\r\n    <div class=\"table-container\">\r\n      <table class=\"report-table\">\r\n        <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th></th>\r\n          <th></th>\r\n          <th></th>\r\n          <th> </th>\r\n          <th>/</th>\r\n          <th></th>\r\n          <th> </th>\r\n          <th></th>\r\n          <th></th>\r\n          <th></th>\r\n          <th>-</th>\r\n          <th></th>\r\n          <th>/</th>\r\n          <th></th>\r\n          <th>/</th>\r\n          <th v-for=\"emp in employees\" :key=\"emp.id\" class=\"employee-col\">\r\n            {{ emp.name }}\r\n          </th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"prod in filteredProductsWithRowNumber\"\r\n            :key=\"prod.id\"\r\n            @click=\"() => openEditModal(prod)\"\r\n            class=\"clickable-row\"\r\n        >\r\n          <td>\r\n            <span :class=\"`status-badge status-${prod.status}`\">{{ getTypeStatus(prod.status) }}</span>\r\n          </td>\r\n          <td>{{ prod.position }}</td>\r\n          <td>{{ prod.rowNumber }}</td>\r\n          <td>{{ prod.parent_assembly }}</td>\r\n          <td>{{ prod.order_num }}</td>\r\n          <td\r\n              :class=\"{\r\n                'profile-empty': prod.customer_type === '',\r\n                'cell-warning': prod.customer_type === ''\r\n            }\"\r\n          >\r\n            {{ prod.customer_type }}\r\n          </td>\r\n          <td>{{ prod.customer }}</td>\r\n          <td>{{ formatType(prod.type) }}</td>\r\n          <td\r\n              :class=\"{\r\n                'profile-empty': prod.systema === '',\r\n                'cell-warning': prod.systema === ''\r\n            }\"\r\n          >\r\n            {{ prod.systema }}\r\n          </td>\r\n          <td\r\n              :class=\"{\r\n                'profile-empty': prod.type_izd === '',\r\n                'cell-warning': prod.type_izd === ''\r\n            }\"\r\n          >\r\n            {{ prod.type_izd }}\r\n          </td>\r\n          <td\r\n              :class=\"{\r\n                'profile-empty': prod.profile === '',\r\n                'cell-warning': prod.profile === ''\r\n            }\"\r\n          >\r\n            {{ prod.profile }}\r\n          </td>\r\n          <td>{{ prod.count }}</td>\r\n          <td>{{ prod.sqr }}</td>\r\n          <td>{{ prod.total_time }}</td>\r\n          <td\r\n              :class=\"{\r\n                'profile-empty': prod.brigade === '',\r\n                'cell-warning': prod.brigade === ''\r\n            }\"\r\n          >\r\n            {{ prod.brigade }}\r\n          </td>\r\n          <td>{{ prod.norm_money }}</td>\r\n          <td v-for=\"emp in employees\" :key=\"emp.id\" class=\"employee-col\">\r\n            {{ getValue(prod, emp.id) }}\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <!--   -->\r\n    <div class=\"actions\">\r\n      <button @click=\"exportToExcel\" class=\"btn-export\">\r\n           Excel\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport ExcelJS from 'exceljs';\r\n\r\nconst currentYear = new Date().getFullYear();\r\nconst year = ref(currentYear); //    ,  \r\nconst month = ref(new Date().getMonth() + 1); //  : 112\r\nconst orderNum = ref('');\r\n\r\n//TODO  \r\nconst editingProduct = ref(null);\r\nconst openEditModal = (product) => {\r\n  //  ,       \r\n  editingProduct.value = { ...product };\r\n};\r\n\r\nconst saveAndClose = async (updatedProduct) => {\r\n  try {\r\n    const cleanedProduct = {\r\n      ...updatedProduct,\r\n      sqr: parseFloat(updatedProduct.sqr) || 0,\r\n      norm_money: parseFloat(updatedProduct.norm_money) || 0,\r\n      coefficient: parseFloat(updatedProduct.coefficient),\r\n      total_time: parseFloat(updatedProduct.total_time) || 0,\r\n      count: parseInt(updatedProduct.count) || 0,\r\n    };\r\n\r\n    await axios.put(`/api/final/update/${updatedProduct.id}`, cleanedProduct);\r\n\r\n    //    \r\n    const index = products.value.findIndex(p => p.id === updatedProduct.id);\r\n    if (index !== -1) {\r\n      products.value[index] = updatedProduct;\r\n    }\r\n\r\n    editingProduct.value = null;\r\n    loadData(); //    computed\r\n  } catch (error) {\r\n    console.error(' ', error);\r\n  }\r\n};\r\nimport EditProductModal from \"@/components/EditProductModal.vue\";\r\nimport SummaryReport from '@/components/SummaryStats.vue';\r\n\r\nconst months = [\r\n  '', '', '', '', '', '',\r\n  '', '', '', '', '', ''\r\n];\r\n\r\nconst typeStatus = {\r\n  assigned: \" \",\r\n  final: \"\",\r\n};\r\n\r\nconst getTypeStatus = (type) => {\r\n  return typeStatus[type] || type;\r\n};\r\n\r\nconst filterFrom = computed(() => {\r\n  return `${year.value}-${String(month.value).padStart(2, '0')}-01`;\r\n});\r\n\r\nconst filterTo = computed(() => {\r\n  const nextMonth = new Date(year.value, month.value, 0); // 0 =  \r\n  const day = String(nextMonth.getDate()).padStart(2, '0');\r\n  const mm = String(month.value).padStart(2, '0');\r\n  return `${year.value}-${mm}-${day}`;\r\n});\r\n\r\n// \r\nconst typeGroups = {\r\n  combined: {\r\n    label: '  ',\r\n    types: ['window', 'door', 'glyhar']\r\n  },\r\n  loggia: {\r\n    label: '',\r\n    types: ['loggia']\r\n  },\r\n  mosquito_net: {\r\n    label: ' ',\r\n    types: ['ms']\r\n  }\r\n};\r\n\r\nconst selectedTypes = ref(['combined']);\r\n\r\n//    (backend-)\r\nconst activeBackendTypes = computed(() => {\r\n  const result = [];\r\n  selectedTypes.value.forEach(key => {\r\n    const group = typeGroups[key];\r\n    if (group) {\r\n      result.push(...group.types);\r\n    }\r\n  });\r\n\r\n  return result;\r\n});\r\n\r\n// ==========  ==========\r\nconst employees = ref([]);\r\nconst products = ref([]);\r\n\r\n// ==========   ==========\r\n\r\n//   \r\nconst productsWithRowNumber = computed(() => {\r\n  const list = products.value || [];\r\n\r\n  const sortedList = [...list].sort((a, b) => {\r\n    //    ready_date\r\n    const dateA = a.ready_date ? new Date(a.ready_date) : new Date(0);\r\n    const dateB = b.ready_date ? new Date(b.ready_date) : new Date(0);\r\n    const dateDiff = dateB - dateA; // DESC:  \r\n\r\n    if (dateDiff !== 0) return dateDiff;\r\n\r\n    //   main   sub   ID ()\r\n    return a.id - b.id;\r\n  });\r\n\r\n  const mainIdToRowNumber = new Map();\r\n  let counter = 1;\r\n  for (const item of sortedList) {\r\n    if (item.part_type === 'main') {\r\n      mainIdToRowNumber.set(item.id, counter++);\r\n    }\r\n  }\r\n\r\n  // 3.  rowNumber   \r\n  return sortedList.map(product => {\r\n    let rowNumber = 0;\r\n    if (product.part_type === 'main') {\r\n      rowNumber = mainIdToRowNumber.get(product.id) || 0;\r\n    } else if (product.part_type === 'sub' && product.parent_product_id) {\r\n      rowNumber = mainIdToRowNumber.get(product.parent_product_id) || 0;\r\n    }\r\n    return { ...product, rowNumber };\r\n  });\r\n});\r\n\r\n//     \r\nconst filteredProductsWithRowNumber = computed(() => {\r\n  const allowedTypes = activeBackendTypes.value;\r\n  if (allowedTypes.length === 0) return [];\r\n\r\n  return productsWithRowNumber.value.filter(p => allowedTypes.includes(p.type));\r\n});\r\n\r\n// ==========  ==========\r\nconst formatType = (type) => {\r\n  const map = {\r\n    'window': '',\r\n    'door': '',\r\n    'loggia': '',\r\n    'ms': ' ',\r\n    'glyhar': ' ',\r\n  };\r\n  return map[type] || type;\r\n};\r\n\r\nconst getValue = (product, employeeId) => {\r\n  const value = product.employee_value?.[String(employeeId)];\r\n  return value ? parseFloat(value.toFixed(3)) : '';\r\n};\r\n\r\n// ==========   EXCEL ==========\r\nconst exportToExcel = async () => {\r\n  const monthName = months[month.value - 1];\r\n  const exportYear = year.value;\r\n\r\n  const activeType = activeBackendTypes.value;\r\n\r\n  let typeLabel = ' ';\r\n  const combinedSet = new Set(['window', 'door', 'glyhar']);\r\n  const activeSet = new Set(activeType);\r\n\r\n  if (activeType.length > 4) {\r\n    typeLabel = ' ';\r\n  } else if (\r\n      activeSet.size === combinedSet.size &&\r\n      [...combinedSet].every(t => activeSet.has(t))\r\n  ) {\r\n    typeLabel = '';\r\n  } else if (activeSet.size === 1 && activeSet.has('loggia')) {\r\n    typeLabel = '';\r\n  } else if (activeSet.size === 1 && activeSet.has('ms')) {\r\n    typeLabel = '';\r\n  } else {\r\n    typeLabel = [...new Set(activeType.map(formatType))].sort().join(', ');\r\n  }\r\n\r\n  const workbook = new ExcelJS.Workbook();\r\n  const worksheet = workbook.addWorksheet(`  - ${monthName} ${exportYear} ${typeLabel}`);\r\n\r\n  // === 1.    ===\r\n  const headers = [\r\n    '', '', ' ', '/', '',\r\n    ' ', '', '', '',\r\n    '', '', '/', '', '/'\r\n  ];\r\n\r\n  const employeeNames = employees.value.map(emp => emp.name);\r\n  const allHeaders = [...headers, ...employeeNames, ''];\r\n\r\n  const headerRow = worksheet.addRow(allHeaders);\r\n  headerRow.eachCell((cell) => {\r\n    cell.font = { bold: true, size: 10 };\r\n    cell.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'FFEEEEEE' } };\r\n    cell.border = { style: 'thin' };\r\n  });\r\n\r\n  // === 2.   ===\r\n  filteredProductsWithRowNumber.value.forEach(prod => {\r\n    const row = [\r\n      prod.rowNumber,\r\n      prod.parent_assembly || '',\r\n      prod.order_num || ' ',\r\n      prod.customer_type || ' ',\r\n      prod.customer || ' ',\r\n      formatType(prod.type),\r\n      prod.systema || ' ',\r\n      prod.type_izd || ' ',\r\n      prod.profile || ' ',\r\n      prod.count || 0,\r\n      prod.sqr || 0,\r\n      prod.total_time || 0,\r\n      prod.brigade || ' ',\r\n      prod.norm_money || 0\r\n    ];\r\n\r\n    // ===    ===\r\n    const employeeValues = employees.value.map(emp => {\r\n      const val = getValue(prod, emp.id);\r\n      return val ? parseFloat(val) : 0;\r\n    });\r\n\r\n// ===     ===\r\n    const totalEmpValue = employeeValues.reduce((sum, val) => sum + val, 0);\r\n    const totalEmpFormatted = totalEmpValue > 0 ? parseFloat(totalEmpValue.toFixed(3)) : '';\r\n\r\n// ===     (  ,      0) ===\r\n    const employeeValueCells = employees.value.map(emp => {\r\n      const val = getValue(prod, emp.id);\r\n      return val ? val : ''; // ,  0   \r\n    });\r\n\r\n// ===       ===\r\n    const fullRow = [\r\n      ...row,\r\n      ...employeeValueCells,\r\n      totalEmpFormatted\r\n    ];\r\n\r\n    const excelRow = worksheet.addRow(fullRow);\r\n    //      \r\n    if (totalEmpValue > 0 && Math.abs(totalEmpValue - (parseFloat(prod.total_time) || 0)) > 0.001) {\r\n      // ,   \r\n      excelRow.eachCell((cell, colNum) => {\r\n        if (colNum === fullRow.length) {\r\n          cell.fill = {\r\n            type: 'pattern',\r\n            pattern: 'solid',\r\n            fgColor: { argb: 'FFFFFF99' }\r\n          };\r\n        }\r\n      });\r\n    }\r\n\r\n    excelRow.eachCell((cell) => {\r\n      cell.font = { size: 10 };\r\n      cell.alignment = { vertical: 'middle', horizontal: 'center' };\r\n      cell.border = { style: 'thin' };\r\n\r\n      if (typeof cell.value === 'string' && cell.value === ' ') {\r\n        cell.font = { bold: true, size: 10, color: { argb: 'FFFF0000' } };\r\n      }\r\n    });\r\n  });\r\n\r\n  // ===      ===\r\n  worksheet.addRow([]);\r\n\r\n  // ===    ( ) ===\r\n  // (  ,   )\r\n\r\n  const products = filteredProductsWithRowNumber.value;\r\n\r\n  function normalize(str) {\r\n    return (str || '').trim().toLowerCase();\r\n  }\r\n\r\n  function aggregate(items) {\r\n    const total = items.reduce((acc, p) => {\r\n      acc.sqr += parseFloat(p.sqr) || 0;\r\n      acc.hours += parseFloat(p.total_time) || 0;\r\n      acc.money += parseFloat(p.norm_money) || 0;\r\n      acc.count += parseInt(p.count) || 0;\r\n      return acc;\r\n    }, { count: 0, sqr: 0, hours: 0, money: 0 });\r\n\r\n    return {\r\n      count: parseFloat(total.count.toFixed(3)),\r\n      sqr: parseFloat(total.sqr.toFixed(3)),\r\n      hours: parseFloat(total.hours.toFixed(3)),\r\n      money: parseFloat(total.money.toFixed(3))\r\n    };\r\n  }\r\n\r\n  // --- 1.     ---\r\n  const coldWindows = products.filter(p =>\r\n      (p.type === 'window' || p.type === 'glyhar') && normalize(p.systema).includes('') && normalize(p.type_izd) !== '  '\r\n  );\r\n\r\n  const hotWindows = products.filter(p =>\r\n      (p.type === 'window' || p.type === 'glyhar') && normalize(p.systema).includes('') && normalize(p.type_izd) !== '  '\r\n  );\r\n\r\n  // --- 2.   ( ,     ) ---\r\n  // const glyhar = products.filter(p =>\r\n  //     p.type === 'glyhar' &&\r\n  //     normalize(p.type_izd) !== '  '\r\n  // );\r\n\r\n  // --- 3.    () ---\r\n  const vitrajDoors = products.filter(p =>\r\n      p.type === 'glyhar' &&\r\n      normalize(p.type_izd) === '  '\r\n  );\r\n\r\n  const allWindows = [...coldWindows, ...hotWindows, ...vitrajDoors];\r\n\r\n  // const coldWindows = products.filter(p =>\r\n  //     p.type === 'window' && normalize(p.systema).includes('')\r\n  // );\r\n  // const hotWindows = products.filter(p =>\r\n  //     p.type === 'window' && normalize(p.systema).includes('')\r\n  // );\r\n  //const allWindows = products.filter(p => p.type === 'window' || p.type === 'glyhar');\r\n  // const doors1p = products.filter(p => p.type === 'door' && ['1', '1'].includes(p.type_izd));\r\n  // const doors15p = products.filter(p => p.type === 'door' && ['1.5', '1.5'].includes(p.type_izd));\r\n  // const doors2p = products.filter(p => p.type === 'door' && ['2', '2'].includes(p.type_izd));\r\n\r\n  const doors1p = products.filter(p =>p.type ==='door' && (p.type_izd === '1' || p.type_izd === '1'));\r\n  const doors15p = products.filter(p =>p.type ==='door' && (p.type_izd === '1.5' || p.type_izd === '1.5'));\r\n  const doors2p = products.filter(p =>p.type ==='door' && (p.type_izd === '2' || p.type_izd === '2'));\r\n\r\n  //const glyhar = products.filter(p => p.type === 'glyhar' && p.type_izd === ' .');\r\n  //const vitrajDoors = products.filter(p => normalize(p.type_izd) === '  ');\r\n\r\n  //TODO\r\n  //const loggias = products.filter(p => p.type === 'loggia');\r\n  //const mosquitoNets = products.filter(p => p.type === 'ms');\r\n\r\n  const coldStats = aggregate(coldWindows);\r\n  const hotStats = aggregate(hotWindows);\r\n  const allWindowStats = aggregate(allWindows);\r\n  const door1pStats = aggregate(doors1p);\r\n  const door15pStats = aggregate(doors15p);\r\n  const door2pStats = aggregate(doors2p);\r\n  const vitrajStats = aggregate(vitrajDoors);\r\n  //const glyharStats = aggregate(glyhar);\r\n  //TODO  \r\n  //const loggiaStats = aggregate(loggias);\r\n  //const mosquitoStats = aggregate(mosquitoNets);\r\n\r\n  const total = [allWindowStats, door1pStats, door15pStats, door2pStats] //glyharStats vitrajStats\r\n      .reduce((acc, g) => ({\r\n        count: acc.count + g.count,\r\n        sqr: acc.sqr + g.sqr,\r\n        hours: acc.hours + g.hours,\r\n        money: acc.money + g.money\r\n      }), { count: 0, sqr: 0, hours: 0, money: 0 });\r\n\r\n  const totalRounded = {\r\n    count: parseFloat(total.count.toFixed(3)),\r\n    sqr: parseFloat(total.sqr.toFixed(3)),\r\n    hours: parseFloat(total.hours.toFixed(3)),\r\n    money: parseFloat(total.money.toFixed(3))\r\n  };\r\n\r\n  // === 5.   ===\r\n  const summaryHeader = worksheet.addRow([' ']);\r\n  summaryHeader.getCell(1).font = { bold: true, size: 14 };\r\n  worksheet.addRow([]); //  \r\n\r\n  const summaryTableHeaders = ['', '', '-', ', ', '/', '/'];\r\n  const summaryHeaderRow = worksheet.addRow(summaryTableHeaders);\r\n  summaryHeaderRow.eachCell(cell => {\r\n    cell.font = { bold: true };\r\n    cell.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'FFDDDDDD' } };\r\n    cell.border = { style: 'thin' };\r\n  });\r\n\r\n  const addSummaryRow = (name, profile, data) => {\r\n    const row = worksheet.addRow([\r\n      name,\r\n      '',\r\n      data.count,\r\n      data.sqr,\r\n      data.hours,\r\n      data.money\r\n    ]);\r\n    row.eachCell(cell => {\r\n      cell.border = { style: 'thin' };\r\n      if (data.count === 0 && data.sqr === 0 && data.hours === 0 && data.money === 0) {\r\n        cell.font = { italic: true, color: { argb: 'FF888888' } };\r\n      }\r\n    });\r\n  };\r\n\r\n  addSummaryRow(' ', '', coldStats);\r\n  addSummaryRow(' ', '', hotStats);\r\n  addSummaryRow('  ', '', vitrajStats);\r\n  addSummaryRow(' ', '', allWindowStats);\r\n  addSummaryRow(' 1 ', '', door1pStats);\r\n  addSummaryRow(' 1.5 ', '', door15pStats);\r\n  addSummaryRow(' 2 ', '', door2pStats);\r\n  //if (glyharStats.count > 0) addSummaryRow(' ', '', glyharStats);\r\n  //addSummaryRow('', '', loggiaStats);\r\n  //addSummaryRow(' ', '', mosquitoStats);\r\n\r\n  worksheet.addRow([]);\r\n  const totalRow = worksheet.addRow(['', ':', totalRounded.count, totalRounded.sqr, totalRounded.hours, totalRounded.money]);\r\n  totalRow.eachCell((cell, colNum) => {\r\n    if (colNum >= 3) {\r\n      cell.font = { bold: true };\r\n      cell.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'FFCCFFFF' } };\r\n    }\r\n  });\r\n\r\n  // === 6.     ===\r\n  worksheet.addRow([]);\r\n  worksheet.addRow([]);\r\n\r\n  // ===      ===\r\n\r\n  const expectedGroups = [\r\n    { type_izd: ' .', profile: '' },\r\n    { type_izd: ' .', profile: '' },\r\n    { type_izd: ' .', profile: '' },\r\n    { type_izd: ' .', profile: '' },\r\n    { type_izd: ' .', profile: '' },\r\n    { type_izd: ' .-.', profile: '' },\r\n    { type_izd: ' .-.', profile: '' },\r\n    { type_izd: ' .-.', profile: '' },\r\n    { type_izd: ' .-.', profile: '' },\r\n    { type_izd: ' .-.', profile: '' },\r\n    { type_izd: '1', profile: ''},\r\n    { type_izd: '1', profile: ''},\r\n    { type_izd: '1', profile: '' },\r\n    { type_izd: '1', profile: '' },\r\n    { type_izd: '1', profile: '' },\r\n    { type_izd: '1.5', profile: '' },\r\n    { type_izd: '1.5', profile: '' },\r\n    { type_izd: '1.5', profile: '' },\r\n    { type_izd: '1.5', profile: '' },\r\n    { type_izd: '1.5', profile: '' },\r\n    { type_izd: '2', profile: '' },\r\n    { type_izd: '2', profile: '' },\r\n    { type_izd: '2', profile: '' },\r\n    { type_izd: '2', profile: '' },\r\n    { type_izd: '2', profile: '' },\r\n  ];\r\n\r\n  //   \r\n  const detailHeader = worksheet.addRow(['  ']);\r\n  detailHeader.getCell(1).font = { bold: true, size: 14 };\r\n  worksheet.addRow([]); //  \r\n\r\n  //   \r\n  const detailHeaders = [\r\n    '',\r\n    '',\r\n    '-',\r\n    '',\r\n    '/',\r\n    '/',\r\n  ];\r\n  const detailHeaderRow = worksheet.addRow(detailHeaders);\r\n  detailHeaderRow.eachCell(cell => {\r\n    cell.font = { bold: true };\r\n    cell.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'FFDDDDDD' } };\r\n    cell.border = { style: 'thin' };\r\n  });\r\n\r\n  //     \r\n  const groupAggregates = {};\r\n\r\n  //   \r\n  expectedGroups.forEach(group => {\r\n    const key = `${group.type_izd}__${group.profile}`;\r\n    groupAggregates[key] = {\r\n      count: 0,\r\n      sqr: 0,\r\n      hours: 0,\r\n      money: 0,\r\n    };\r\n  });\r\n\r\n  //  \r\n  products.forEach(p => {\r\n    const key = `${p.type_izd}__${p.profile}`;\r\n    if (!groupAggregates[key]) return; //   \r\n\r\n    const agg = groupAggregates[key];\r\n    agg.count += parseInt(p.count) || 0;\r\n    agg.sqr += parseFloat(p.sqr) || 0;\r\n    agg.hours += parseFloat(p.total_time) || 0;\r\n    agg.money += parseFloat(p.norm_money) || 0;\r\n  });\r\n\r\n  //  \r\n  expectedGroups.forEach(group => {\r\n    const key = `${group.type_izd}__${group.profile}`;\r\n    const agg = groupAggregates[key] || {\r\n      count: 0,\r\n      sqr: 0,\r\n      hours: 0,\r\n      money: 0,\r\n    };\r\n\r\n    const row = worksheet.addRow([\r\n      group.type_izd,\r\n      group.profile,\r\n      agg.count,\r\n      parseFloat(agg.sqr.toFixed(3)),\r\n      parseFloat(agg.hours.toFixed(3)),\r\n      parseFloat(agg.money.toFixed(3)), //     2 \r\n    ]);\r\n\r\n    row.eachCell(cell => {\r\n      cell.border = { style: 'thin' };\r\n      if (agg.count === 0 && agg.sqr === 0 && agg.hours === 0 && agg.money === 0) {\r\n        cell.font = { italic: true, color: { argb: 'FF888888' } };\r\n      }\r\n    });\r\n  });\r\n\r\n  // ===  ===\r\n  worksheet.columns.forEach(column => {\r\n    let maxLength = 10;\r\n    column.eachCell({ includeEmpty: true }, cell => {\r\n      const length = cell.value ? String(cell.value).length : 10;\r\n      if (length > maxLength) maxLength = length;\r\n    });\r\n    column.width = Math.min(maxLength + 2, 30);\r\n  });\r\n\r\n  // === 9.  ===\r\n  const buffer = await workbook.xlsx.writeBuffer();\r\n  const blob = new Blob([buffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = `peo-report-${exportYear}-${String(month.value).padStart(2, '0')}.xlsx`;\r\n  a.click();\r\n  URL.revokeObjectURL(url);\r\n};\r\n\r\n// ==========   ==========\r\nconst loadData = async () => {\r\n  try {\r\n    const params = new URLSearchParams();\r\n\r\n    //      ?type=...\r\n    activeBackendTypes.value.forEach(type => {\r\n      params.append('type', type);\r\n    });\r\n\r\n    //    \r\n    params.append('from', filterFrom.value);\r\n    params.append('to', filterTo.value);\r\n    params.append('order_num', orderNum.value);\r\n\r\n\r\n\r\n    const res = await axios.get(`/api/all_final_order?${params}`);\r\n    employees.value = res.data.employees;\r\n    products.value = res.data.products;\r\n\r\n    //console.log(\"RESSS\", res);\r\n  } catch (error) {\r\n    console.error('  :', error);\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  loadData();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.peo-report {\r\n  padding: 20px;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 16px;\r\n  background-color: #f8f9fa;\r\n  border-radius: 8px;\r\n  border: 1px solid #e0e0e0;\r\n  font-size: 14px;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n/*  label + input/select */\r\n.filter-group {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  white-space: nowrap;\r\n}\r\n\r\n.filter-group label {\r\n  font-weight: 500;\r\n  color: #333;\r\n  font-size: 13px;\r\n  min-width: 50px;\r\n  text-align: right;\r\n}\r\n\r\n/*  */\r\n.filter-select,\r\n.filter-input {\r\n  padding: 6px 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 6px;\r\n  font-size: 13px;\r\n  background-color: white;\r\n  transition: border 0.2s ease, box-shadow 0.2s ease;\r\n  min-width: 100px;\r\n}\r\n\r\n.filter-select:focus,\r\n.filter-input:focus {\r\n  outline: none;\r\n  border-color: #2563eb;\r\n  box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);\r\n}\r\n\r\n.filter-input {\r\n  min-width: 120px;\r\n  padding: 6px 10px;\r\n}\r\n\r\n/*     */\r\n.type-filters {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n  margin-left: auto;\r\n  padding-left: 12px;\r\n  border-left: 1px solid #ddd;\r\n}\r\n\r\n.checkbox-label {\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  font-size: 13px;\r\n}\r\n\r\n.checkbox-input {\r\n  position: absolute;\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\n.checkbox-text {\r\n  padding: 4px 8px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  background-color: #fff;\r\n  transition: all 0.2s;\r\n  color: #444;\r\n}\r\n\r\n.checkbox-label:hover .checkbox-text {\r\n  border-color: #2563eb;\r\n  color: #1e40af;\r\n  background-color: #eff6ff;\r\n}\r\n\r\n.checkbox-input:checked + .checkbox-text {\r\n  background-color: #2563eb;\r\n  color: white;\r\n  border-color: #2563eb;\r\n  font-weight: 600;\r\n}\r\n\r\n.table-container {\r\n  overflow-x: auto;\r\n  margin-bottom: 20px;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  background-color: white;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.report-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  min-width: 800px;\r\n  color: #2d3748;\r\n}\r\n\r\n.report-table th,\r\n.report-table td {\r\n  border: 1px solid #eee;\r\n  padding: 8px 10px;\r\n  text-align: center;\r\n  font-size: 13px;\r\n}\r\n\r\n.report-table th {\r\n  background-color: #f5f5f5;\r\n  position: sticky;\r\n  top: 0;\r\n  font-weight: 600;\r\n}\r\n\r\ntd:nth-child(16),\r\nth:nth-child(16) {\r\n  background-color: #ebf8ff !important;\r\n  font-weight: bold;\r\n  color: #2c5282;\r\n}\r\n\r\ntd:nth-child(14),\r\nth:nth-child(14) {\r\n  background-color: #ebf8ff !important;\r\n  font-weight: bold;\r\n  color: royalblue;\r\n}\r\n\r\n.employee-col {\r\n  min-width: 60px;\r\n}\r\n\r\n.actions {\r\n  text-align: center;\r\n}\r\n\r\n.btn-export {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 12px 24px;\r\n  background-color: #2563eb;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.btn-export:hover {\r\n  background-color: #1d4ed8;\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.btn-export:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n.summary-stats {\r\n  background: #f8fafc;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  margin-bottom: 20px;\r\n  font-size: 14px;\r\n}\r\n\r\n.summary-stats h4 {\r\n  margin: 0 0 12px 0;\r\n  color: #2d3748;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n}\r\n\r\n.summary-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 13px;\r\n  background: white;\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.summary-table th,\r\n.summary-table td {\r\n  padding: 8px 10px;\r\n  text-align: center;\r\n  border-bottom: 1px solid #e2e8f0;\r\n}\r\n\r\n.summary-table th {\r\n  background-color: #edf2f7;\r\n  color: #4a5568;\r\n  font-weight: 600;\r\n  font-size: 13px;\r\n  text-transform: none;\r\n}\r\n\r\n.summary-table tbody tr:hover {\r\n  background-color: #f7fafc;\r\n}\r\n\r\n/*   */\r\n.total-row {\r\n  background-color: #ebf8ff !important;\r\n  border-top: 2px solid #bee3f8;\r\n}\r\n\r\n.total-row td {\r\n  font-weight: bold;\r\n  color: #2b6cb0;\r\n  padding: 10px 10px;\r\n}\r\n\r\n.cell-warning {\r\n  background-color: #fee;\r\n  color: #c33 !important;\r\n  font-weight: 500;\r\n  border-left: 3px solid #c33;\r\n}\r\n\r\n/* :    */\r\n.cell-warning:hover {\r\n  background-color: #fdd;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.clickable-row {\r\n  cursor: pointer;\r\n  transition: background-color 0.1s;\r\n}\r\n\r\n.clickable-row:hover {\r\n  background-color: #f0f8ff !important;\r\n}\r\n\r\n.status-badge {\r\n  display: inline-block;\r\n  padding: 4px 10px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  color: white;\r\n  line-height: 1.3;\r\n  min-height: 22px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.status-badge.status-final { background: #28a745;  }\r\n.status-badge.status-assigned{ background: #fd7e14; }\r\n\r\n\r\n</style>","import script from \"./FinalNormOrdersList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FinalNormOrdersList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FinalNormOrdersList.vue?vue&type=style&index=0&id=1b6cd7a1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1b6cd7a1\"]])\n\nexport default __exports__","<!-- src/components/AdminPanel.vue -->\r\n<template>\r\n  <div class=\"admin-panel\">\r\n    <h1>  </h1>\r\n    <nav class=\"admin-nav\">\r\n      <router-link to=\"/admin/templates\"></router-link> |\r\n      <router-link to=\"/admin/peo\"></router-link>\r\n    </nav>\r\n    <router-view />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n//          router\r\n</script>\r\n\r\n<style scoped>\r\n.admin-panel {\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n.admin-nav {\r\n  margin: 20px 0;\r\n  font-size: 18px;\r\n}\r\n</style>","import script from \"./AdminPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AdminPanel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AdminPanel.vue?vue&type=style&index=0&id=88b56988&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-88b56988\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"admin-templates\">\r\n    <h2> </h2>\r\n    <button @click=\"handleCreate\" class=\"btn btn-primary\"> </button>\r\n\r\n    <div v-if=\"loading\">...</div>\r\n    <div v-else-if=\"error\" class=\"error\">: {{ error }}</div>\r\n<!--    <div>{{ templates.Template }}</div>-->\r\n    <table class=\"templates-table\" v-if=\"templates.Template && templates.Template.length\">\r\n      <thead>\r\n      <tr>\r\n        <th></th>\r\n        <th></th>\r\n        <th></th>\r\n        <th></th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"template in templates.Template\" :key=\"template.id\">\r\n        <td>{{ template.code }}</td>\r\n        <td>{{ template.category }}</td>\r\n        <td>{{ template.name }}</td>\r\n        <td>\r\n          <router-link :to=\"`/admin/templates/edit/${template.code}`\"></router-link>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n    <div v-else-if=\"!loading && (!templates.Template || templates.Template.length === 0)\">\r\n        \r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\n\r\nconst templates = ref({})\r\nconst loading = ref(false)\r\nconst error = ref(null)\r\nconst router = useRouter()\r\n\r\n//  \r\nasync function fetchTemplates() {\r\n  loading.value = true\r\n  error.value = null\r\n  try {\r\n    const res = await fetch('/api/admin/all_templates') //  'http://localhost:8080/api/admin/templates',    \r\n    if (!res.ok) throw new Error(`HTTP ${res.status}`)\r\n    templates.value = await res.json()\r\n  } catch (err) {\r\n    console.error('  :', err)\r\n    error.value = err.message\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nfunction handleCreate() {\r\n  router.push('/admin/templates/new')\r\n}\r\n\r\nonMounted(() => {\r\n  fetchTemplates()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.admin-templates {\r\n  padding: 20px;\r\n}\r\n.btn {\r\n  padding: 8px 16px;\r\n  margin-bottom: 16px;\r\n  cursor: pointer;\r\n}\r\n.templates-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n.templates-table th,\r\n.templates-table td {\r\n  border: 1px solid #ccc;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n.error {\r\n  color: red;\r\n}\r\n</style>","import script from \"./AdminTemplates.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AdminTemplates.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AdminTemplates.vue?vue&type=style&index=0&id=d7f1de8e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d7f1de8e\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"template-edit\">\r\n    <h2>  </h2>\r\n    <div v-if=\"loading\">...</div>\r\n    <form v-else @submit.prevent=\"saveCoefficient\" class=\"operations-table\">\r\n      <table>\r\n      <thead>\r\n      <tr>\r\n        <th> </th>\r\n        <th></th>\r\n        <th></th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"coef in coefficients\" :key=\"coef.id\">\r\n        <td>{{ coef.type }}</td>\r\n        <td><input min=\"0\" step=\"0.001\" v-model.number=\"coef.coefficient\"></td>\r\n        <td><input type=\"checkbox\"  v-model=\"coef.is_active\" /></td>\r\n      </tr>\r\n      </tbody>\r\n\r\n      </table>\r\n      <div>\r\n        <button type=\"submit\"></button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n  <div class=\"template-edit\">\r\n    <h2>  </h2>\r\n    <div v-if=\"loading\">...</div>\r\n    <form v-else @submit.prevent=\"saveEmployees\" class=\"operations-table\">\r\n      <table>\r\n      <thead>\r\n      <tr>\r\n        <th>ID</th>\r\n        <th></th>\r\n        <th>  </th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"emp in employees\" :key=\"emp.id\">\r\n        <td>{{ emp.id }}</td>\r\n        <td><input v-model=\"emp.name\"></td>\r\n        <td><input type=\"checkbox\"  v-model=\"emp.is_active\" /></td>\r\n      </tr>\r\n      </tbody>\r\n      </table>\r\n      <div>\r\n        <button type=\"submit\"></button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n  <div class=\"template-edit\">\r\n    <h2> </h2>\r\n    <div v-if=\"loading\">...</div>\r\n    <form v-else @submit.prevent=\"saveEmployer\" class=\"operations-table\">\r\n      <table>\r\n      <thead>\r\n      <tr>\r\n        <th></th>\r\n        <th>  </th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr>\r\n        <td><input v-model=\"addEmployer.name\"></td>\r\n        <td><input type=\"checkbox\"  v-model=\"addEmployer.is_active\" /></td>\r\n      </tr>\r\n      </tbody>\r\n      </table>\r\n      <div>\r\n        <button type=\"submit\"></button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport {onMounted, ref} from \"vue\";\r\n\r\nconst loading = ref(false)\r\nconst coefficients = ref([])\r\nconst employees = ref([])\r\n\r\nconst addEmployer = ref({\r\n  name: '',\r\n  is_active: false,\r\n})\r\n\r\nasync function loadCoefficient() {\r\n  const res = await fetch('/api/admin/coefficient')\r\n  if (!res.ok) throw new Error(' ')\r\n  return await res.json()\r\n}\r\n\r\nasync function loadEmployees() {\r\n  const res = await fetch('/api/admin/employees')\r\n  if (!res.ok) throw new Error(' ')\r\n  return await res.json()\r\n}\r\n\r\nasync function saveCoefficient() {\r\n  try {\r\n    const res = await fetch(`/api/admin/coefficient/update`, {\r\n      method: \"PUT\",\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(coefficients.value)\r\n    })\r\n    if (!res.ok) throw new Error(`HTTP ${res.status}`)\r\n  } catch (err) {\r\n    console.log(\"  \", err)\r\n  }\r\n}\r\n\r\nasync function saveEmployees() {\r\n  try {\r\n    const res = await fetch(`/api/admin/employees/update`, {\r\n      method: \"PUT\",\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(employees.value)\r\n    })\r\n    if (!res.ok) throw new Error(`HTTP ${res.status}`)\r\n  } catch (err) {\r\n    console.log(\"  \", err)\r\n  }\r\n}\r\n\r\nasync function saveEmployer() {\r\n  try {\r\n    const res = await fetch(`/api/admin/employees/save`, {\r\n      method: \"POST\",\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(addEmployer.value)\r\n    })\r\n    if (!res.ok) throw new Error(`HTTP ${res.status}`)\r\n  } catch (err) {\r\n    console.log(\"   \", err)\r\n  }\r\n}\r\n\r\n\r\nonMounted(async ()=>{\r\n  loading.value = true\r\n  try {\r\n    const [coeff, emps] = await Promise.all([\r\n        loadCoefficient(),\r\n        loadEmployees()\r\n    ])\r\n    coefficients.value = coeff\r\n    employees.value = emps\r\n  } catch (err) {\r\n    console.log(\"  \", err)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n})\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n.operations-table {\r\n  width: 100%;\r\n  margin: 16px 0;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.operations-table th,\r\n.operations-table td {\r\n  border: 1px solid #ccc;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n.operations-table input,\r\n.operations-table select {\r\n  width: 100%;\r\n  margin: 0;\r\n}\r\n\r\n</style>","import script from \"./AdminEditDataPeo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AdminEditDataPeo.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AdminEditDataPeo.vue?vue&type=style&index=0&id=d33a5540&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"template-edit\">\r\n    <h2> </h2>\r\n    <div v-if=\"loading\">...</div>\r\n    <form v-else @submit.prevent=\"saveTemplate\">\r\n      <div>\r\n        <label>  :</label>\r\n        <input v-model=\"template.name\" required />\r\n      </div>\r\n      <div class=\"form-checkbox\">\r\n        <label for=\"is_active\"> </label>\r\n        <input type=\"checkbox\" id=\"is_active\" v-model=\"template.is_active\" />\r\n      </div>\r\n      <div>\r\n        <label>:</label>\r\n        <select v-model=\"template.category\">\r\n          <option value=\"window\"></option>\r\n          <option value=\"door\"></option>\r\n<!--          <option value=\"vitrage\"></option>-->\r\n          <option value=\"glyhar\"></option>\r\n<!--          <option value=\"loggia\"></option>-->\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label>(-,-,    ):</label>\r\n        <input v-model=\"template.systema\" />\r\n      </div>\r\n      <div>\r\n        <label> ( .,  .-., 1, 1.5,2,1,1.5,2):</label>\r\n        <input v-model=\"template.type_izd\" />\r\n      </div>\r\n      <div>\r\n        <label>(,,,,):</label>\r\n        <input v-model=\"template.profile\" />\r\n      </div>\r\n      <div>\r\n        <label>   ( -  ):</label>\r\n        <input v-model=\"template.head_name\" />\r\n      </div>\r\n\r\n      <!--  -->\r\n      <h3></h3>\r\n      <table class=\"operations-table\">\r\n        <thead>\r\n        <tr>\r\n          <th class=\"col-label\"></th>\r\n          <th> </th>\r\n          <th></th>\r\n          <th>(/)</th>\r\n          <th>(/)</th>\r\n          <th></th>\r\n          <th></th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"(op, index) in template.operations\" :key=\"index\">\r\n          <td><input v-model=\"op.label\" /></td>\r\n          <td><input v-model=\"op.name\" /></td>\r\n          <td><input type=\"number\" step=\"1\" min=\"0\" v-model.number=\"op.count\" /></td>\r\n          <td><input type=\"number\" step=\"0.001\" min=\"0\" v-model.number=\"op.value\" /></td>\r\n          <td><input type=\"number\" step=\"0.001\" min=\"0\" v-model.number=\"op.minutes\" /></td>\r\n          <td><input v-model=\"op.group\" /></td>\r\n          <td>\r\n            <button type=\"button\" @click=\"removeOperation(index)\"></button>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n      <button type=\"button\" @click=\"addOperation\" class=\"btn\">+  </button>\r\n\r\n      <div class=\"form-actions\">\r\n        <button type=\"submit\"></button>\r\n        <router-link to=\"/admin/templates\" class=\"btn btn-outline\"></router-link>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\nconst template = ref({\r\n  code: '',\r\n  name: '',\r\n  category: '',\r\n  systema: '',\r\n  type_izd: '',\r\n  profile: '',\r\n  is_active: 1,\r\n  operations: [], //  \r\n  rules: null, //   \r\n  head_name: '',\r\n})\r\nconst loading = ref(false)\r\n\r\n//    ID\r\nasync function loadTemplate(code) {\r\n  loading.value = true\r\n  try {\r\n    const res = await fetch(`/api/admin/template?code=${code}`)\r\n    if (!res.ok) throw new Error(`HTTP ${res.status}`)\r\n    template.value = await res.json()\r\n\r\n  } catch (err) {\r\n    console.error('  :', err)\r\n    alert('   ')\r\n    router.push('/admin/templates')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nfunction addOperation() {\r\n  template.value.operations.push({\r\n    label: '',\r\n    name: '',\r\n    count: 0,\r\n    value: 0.0,\r\n    minutes: 0,\r\n    group: '',\r\n    type: 'number',     //    \r\n    required: true      //   false,   \r\n  })\r\n}\r\n\r\nfunction removeOperation(index) {\r\n  template.value.operations.splice(index, 1)\r\n}\r\n\r\nasync function saveTemplate() {\r\n  try {\r\n    const payload = {\r\n      ...template.value,\r\n      operations: template.value.operations //    \r\n      // rules    ( null)\r\n    }\r\n\r\n    //console.log(\"PAYYY\", payload);\r\n\r\n    const res = await fetch(`/api/admin/template/update/${route.params.code}`, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(payload)\r\n    })\r\n\r\n    if (!res.ok) throw new Error(`HTTP ${res.status}`)\r\n\r\n    alert(' ')\r\n    //router.push('/admin/templates')\r\n  } catch (err) {\r\n    console.error(' :', err)\r\n    alert('   ')\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  const code = route.params.code\r\n  if (code) {\r\n    loadTemplate(code)\r\n  } else {\r\n    //  ID     ( )\r\n    addOperation() //    \r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.template-edit {\r\n  padding: 20px;\r\n  max-width: 900px;\r\n  margin: 0 auto;\r\n}\r\ninput, select {\r\n  width: 100%;\r\n  padding: 6px;\r\n  margin: 6px 0;\r\n}\r\n.operations-table {\r\n  width: 100%;\r\n  margin: 16px 0;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.operations-table th,\r\n.operations-table td {\r\n  border: 1px solid #ccc;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n.operations-table input,\r\n.operations-table select {\r\n  width: 100%;\r\n  margin: 0;\r\n}\r\n\r\n.form-checkbox {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px; /*      */\r\n  margin: 8px 0;\r\n}\r\n\r\n.col-label{\r\n  width: 30%;\r\n}\r\n\r\n.btn {\r\n  padding: 8px 16px;\r\n  margin: 6px;\r\n  cursor: pointer;\r\n}\r\n.form-actions {\r\n  margin-top: 20px;\r\n}\r\n\r\n</style>","import script from \"./AdminTemplateEdit.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AdminTemplateEdit.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AdminTemplateEdit.vue?vue&type=style&index=0&id=af3c87c4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-af3c87c4\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"template-edit\">\r\n    <h2>  </h2>\r\n    <div v-if=\"loading\">...</div>\r\n    <form v-else @submit.prevent=\"saveTemplate\">\r\n      <div>\r\n        <label> </label>\r\n        <input v-model=\"template.code\" required />\r\n      </div>\r\n      <div>\r\n        <label>  :</label>\r\n        <input v-model=\"template.name\" required />\r\n      </div>\r\n      <div class=\"form-checkbox\">\r\n        <label for=\"is_active\"> </label>\r\n        <input type=\"checkbox\" id=\"is_active\" v-model=\"template.is_active\" />\r\n      </div>\r\n      <div>\r\n        <label>:</label>\r\n        <select v-model=\"template.category\">\r\n          <option value=\"window\"></option>\r\n          <option value=\"door\"></option>\r\n<!--          <option value=\"vitrage\"></option>-->\r\n          <option value=\"glyhar\"></option>\r\n<!--          <option value=\"loggia\"></option>-->\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label>(-,-,    ):</label>\r\n        <input v-model=\"template.systema\" />\r\n      </div>\r\n      <div>\r\n        <label> ( .,  .-., 1, 1.5,2,1,1.5,2):</label>\r\n        <input v-model=\"template.type_izd\" />\r\n      </div>\r\n      <div>\r\n        <label>(,,,,):</label>\r\n        <input v-model=\"template.profile\" />\r\n      </div>\r\n      <div>\r\n        <label>   ( -  ):</label>\r\n        <input v-model=\"template.head_name\" />\r\n      </div>\r\n\r\n      <!--  -->\r\n      <h3></h3>\r\n      <table class=\"operations-table\">\r\n        <thead>\r\n        <tr>\r\n          <th class=\"col-label\"></th>\r\n          <th> </th>\r\n          <th></th>\r\n          <th>(/)</th>\r\n          <th>(/)</th>\r\n          <th></th>\r\n          <th></th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"(op, index) in template.operations\" :key=\"index\">\r\n          <td><input v-model=\"op.label\" /></td>\r\n          <td><input v-model=\"op.name\" /></td>\r\n          <td><input type=\"number\" step=\"1\" min=\"0\" v-model.number=\"op.count\" /></td>\r\n          <td><input type=\"number\" step=\"0.001\" min=\"0\" v-model.number=\"op.value\" /></td>\r\n          <td><input type=\"number\" step=\"0.001\" min=\"0\" v-model.number=\"op.minutes\" /></td>\r\n          <td><input v-model=\"op.group\" /></td>\r\n          <td>\r\n            <button type=\"button\" @click=\"removeOperation(index)\"></button>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n      <button type=\"button\" @click=\"addOperation\" class=\"btn\">+  </button>\r\n\r\n      <div class=\"form-actions\">\r\n        <button type=\"submit\"></button>\r\n        <router-link to=\"/admin/templates\" class=\"btn btn-outline\"></router-link>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\n\r\n//const route = useRoute()\r\nconst router = useRouter()\r\nconst template = ref({\r\n  code: '',\r\n  name: '',\r\n  category: '',\r\n  systema: '',\r\n  type_izd: '',\r\n  profile: '',\r\n  is_active: 1,\r\n  operations: [], //    \r\n  rules: null, //   \r\n  head_name: '',\r\n})\r\nconst loading = ref(false)\r\n\r\n\r\nfunction addOperation() {\r\n  template.value.operations.push({\r\n    label: '',\r\n    name: '',\r\n    count: 0,\r\n    value: 0.0,\r\n    minutes: 0,\r\n    group: '',\r\n    type: 'number',     //    \r\n    required: false      //   false,   \r\n  })\r\n}\r\n\r\nfunction removeOperation(index) {\r\n  template.value.operations.splice(index, 1)\r\n}\r\n\r\nasync function saveTemplate() {\r\n  try {\r\n    const payload = {\r\n      ...template.value,\r\n      operations: template.value.operations //    \r\n      // rules    ( null)\r\n    }\r\n\r\n    //console.log(\"PAYYY\", payload);\r\n\r\n    const res = await fetch(`/api/admin/template/new`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(payload)\r\n    })\r\n\r\n    if (!res.ok) throw new Error(`HTTP ${res.status}`)\r\n\r\n    alert(' ')\r\n    router.push('/admin/templates')\r\n  } catch (err) {\r\n    console.error(' :', err)\r\n    alert('   ')\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  addOperation() //    \r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.template-edit {\r\n  padding: 20px;\r\n  max-width: 900px;\r\n  margin: 0 auto;\r\n}\r\ninput, select {\r\n  width: 100%;\r\n  padding: 6px;\r\n  margin: 6px 0;\r\n}\r\n.operations-table {\r\n  width: 100%;\r\n  margin: 16px 0;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.operations-table th,\r\n.operations-table td {\r\n  border: 1px solid #ccc;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n.operations-table input,\r\n.operations-table select {\r\n  width: 100%;\r\n  margin: 0;\r\n}\r\n\r\n.form-checkbox {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px; /*      */\r\n  margin: 8px 0;\r\n}\r\n\r\n.col-label{\r\n  width: 30%;\r\n}\r\n\r\n.btn {\r\n  padding: 8px 16px;\r\n  margin: 6px;\r\n  cursor: pointer;\r\n}\r\n.form-actions {\r\n  margin-top: 20px;\r\n}\r\n\r\n</style>","import script from \"./AdminTemplateCreate.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AdminTemplateCreate.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AdminTemplateCreate.vue?vue&type=style&index=0&id=5501c994&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5501c994\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\r\nimport OrdersList from \"@/components/OrdersList.vue\";\r\nimport FormSendPeo from \"@/components/FormSendPeo.vue\";\r\nimport OrdersDetails from \"@/components/OrdersDetails.vue\";\r\nimport PrintNormOrder from \"@/components/PrintNormOrder.vue\";\r\nimport NormOrdersList from \"@/components/NormOrdersList.vue\";\r\nimport EditNormOrder from \"@/components/EditNormOrder.vue\";\r\nimport AssignWorkers from \"@/components/AssignWorkers.vue\";\r\nimport FinalNormOrdersList from \"@/components/FinalNormOrdersList.vue\";\r\n//admin\r\nimport AdminPanel from \"@/components/admin/AdminPanel.vue\";\r\nimport AdminTemplates from '@/components/admin/AdminTemplates.vue'\r\nimport AdminEditDataPeo from '@/components/admin/AdminEditDataPeo.vue'\r\nimport AdminTemplateEdit from \"@/components/admin/AdminTemplateEdit.vue\";\r\nimport AdminTemplateCreate from \"@/components/admin/AdminTemplateCreate.vue\";\r\n\r\n\r\nconst routes = [\r\n    {path: \"/orders\", name: \"OrdersList\", component: OrdersList},\r\n    {path: \"/orders/order-norm/:orderNum\", name: \"OrdersDetails\" , component:  OrdersDetails, props: true},\r\n    {path: \"/orders/order-norm/form/:orderNum/:position\", name: \"FormSendPeo\", component: FormSendPeo},\r\n    {path: \"/norm/order-norm/print/:id/:orderNum\", name: \"FormPrintNorm\", component: PrintNormOrder},\r\n    {path: \"/norm/orders\", name: \"NormOrdersList\", component: NormOrdersList},\r\n    {path: \"/norm/orders/order-norm/edit/:id\", name: \"EditNormOrder\", component: EditNormOrder},\r\n    {path: \"/norm/workers/:id\", name: \"AssignWorkers\", component: AssignWorkers},\r\n    {path: \"/final/orders\", name: \"FinalNormOrdersList\", component: FinalNormOrdersList},\r\n\r\n    //\r\n    //      \r\n    {\r\n        path: '/admin',\r\n        component: AdminPanel,\r\n        children: [\r\n            { path: '', redirect: 'admin/templates' },\r\n            { path: 'templates', component: AdminTemplates },\r\n            { path: 'peo', component: AdminEditDataPeo },\r\n        ]\r\n    },\r\n    {path: \"/admin/templates/edit/:code\", name: \"AdminTemplateEdit\", component: AdminTemplateEdit},\r\n    {path: \"/admin/templates/new\", name: \"AdminTemplateCreate\", component: AdminTemplateCreate}\r\n];\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(),\r\n    routes\r\n})\r\n\r\nexport default router;","import { createApp } from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router';\r\n\r\nconst app = createApp(App);\r\napp.use(router);\r\napp.mount('#app');\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8844); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","src","_imports_0","alt","_hoisted_4","_hoisted_5","_createVNode","_component_router_link","to","_cache","_hoisted_6","_hoisted_7","_hoisted_8","_component_router_view","name","__exports__","render","router","useRouter","orders","ref","errorMessage","year","Date","getFullYear","month","getMonth","search","months","async","fetchOrders","value","params","response","axios","get","data","error","console","viewOrderDetails","order","push","orderNum","order_num","onMounted","watch","$event","type","min","max","number","_Fragment","_renderList","index","key","placeholder","length","onClick","style","_toDisplayString","customer","ms_note","route","useRoute","storageKey","position","cardInfo","count","color","image","sqr","saved","sessionStorage","getItem","JSON","parse","e","fromQuery","query","parseInt","parseFloat","setItem","stringify","cleanQuery","window","history","replaceState","location","pathname","URLSearchParams","toString","allTemplates","fullForm","loading","showPrintButton","isComposite","selectedParentId","availableParents","lastRootId","selectedTemplate","showImageModal","selectedPartDetail","selectedName","categoryLabels","glyhar","loggia","vitrage","door","newValue","res","fetch","ok","allItems","json","filter","item","part_type","err","groupedTemplates","computed","groups","categories","Object","keys","forEach","cat","Template","tpl","category","toLowerCase","trim","includes","Error","alert","totalHours","baseTotal","operations","reduce","sum","op","dynamicValue","customTotal","customInputs","row","val","minutes","toFixed","totalMinutes","Math","round","updateValue","newValueStr","isNaN","rate","Number","updateCount","newCountStr","newCount","group","operationsInGroup","multiplyAllCounts","multiplier","oldCount","loadForm","code","parent_product_id","map","baseValue","operationsByGroup","saveNormirovka","templateOps","operation_name","operation_label","label","customOps","customOperationsToSend","operationsToSend","total","payload","template_code","parent_assembly","total_time","status","systema","type_izd","profile","method","headers","body","then","order_id","warn","rootId","createMore","confirm","setTimeout","removeItem","catch","calculationContext","recalculateNorms","categoryName","template","errorText","text","recalculatedOps","context","newOperations","existingOp","recalculated","operation","find","message","addCustomInputRow","removeCustomInputRow","splice","valueInHours","now","random","slice","title","_withModifiers","required","disabled","parent","_hoisted_9","_hoisted_10","_hoisted_11","templates","_hoisted_12","_hoisted_13","_normalizeClass","selected","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","step","onInput","target","_hoisted_21","_hoisted_22","_hoisted_23","idx","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","ImpostCount","StvTCount400","StvTCount600","MnogozapZamok","Petli3Section","StvorkiWith3Petli","PetliRolik","PetliStand","PetliRDRH","PetliFural","PritvorKP40","StublinaCount","_hoisted_30","_hoisted_31","_hoisted_32","orderItems","orderNumber","fetchOrderDetails","goBack","go","goToForm","orderDetails","name_position","fromStorage","width","n","colspan","script","assembly","goBackToOrder","main","itemRes","itemData","Array","isArray","assemblyRes","dataArray","subs","finalMain","loadingCancel","confirmCancel","cancelOrder","post","root_product_id","print","printLayout","document","querySelector","contentClone","cloneNode","controls","remove","contentHtml","innerHTML","printHtml","printWindow","open","write","close","closed","focus","head_name","AddictionOperation","sub","filters","typeLabels","other","typeStatus","assigned","in_production","final","cancel","getTypeLabel","getTypeStatus","applyFilters","append","goToNormirovka","goToWorkers","urlParams","has","onChange","created_at","toLocaleDateString","loadAssembly","updateFixedOperation","extra","currentItem","extraOperations","fixed","getItemTitle","formatDate","dateStr","date","syncMinutes","undefined","syncExtraMinutes","saveAll","savePromises","validExtra","ex","product_name","success","results","Promise","all","successCount","r","goToPrint","href","employees","dateAccounting","isExecutorSelected","executors","empId","currentExecutor","some","employee_id","processedItems","assign_workers","actual_minutes","actual_value","i","today","toISOString","split","rawDate","ready_date","accountingDate","datePart","empRes","totalAssemblyTime","labels","syncValue","executor","hours","addExecutor","totalValue","perPersonValue","updateExecutorsEvenly","removeExecutor","saveExecutors","assignments","update_status","errors","validExecutors","exec","product_id","notes","join","back","every","emp","props","__props","emit","__emit","localProduct","product","customerTypeOptions","doorTypeOptions","profileType","systemaType","isDoor","brigadeTypeOptions","validate","requiredFields","field","norm_money","isFormValid","save","isNormMoneyEdited","recalculateNormMoney","coef","coefficient","handleNormMoneyFocus","handleNormMoneyInput","initNormMoney","log","opt","onBlur","customer_type","brigade","onFocus","normalize","str","aggregate","items","acc","p","money","summaryData","products","coldWindows","hotWindows","vitrajDoors","allWindows","allDoors1p","allDoors15p","allDoors2p","loggias","mosquitoNets","coldStats","hotStats","allWindowStats","vitrajStats","loggiaStats","mosquitoStats","allDoor1p","allDoor15p","allDoor2p","windowGroups","g","loggiaGroup","mosquitoGroup","totalRounded","expectedGroups","getFixedGroupingWithUnmatched","mapKey","typeIzd","String","expectedKeys","Set","productMap","Map","unmatched","set","fixedGroups","safeProfile","groupingResult","fixedGroupsShow","unmatchedProducts","isDetailsOpen","formatType","_Transition","currentYear","editingProduct","openEditModal","saveAndClose","cleanedProduct","updatedProduct","put","findIndex","loadData","filterFrom","padStart","filterTo","nextMonth","day","getDate","mm","typeGroups","combined","types","mosquito_net","selectedTypes","activeBackendTypes","result","productsWithRowNumber","list","sortedList","sort","a","b","dateA","dateB","dateDiff","mainIdToRowNumber","counter","rowNumber","filteredProductsWithRowNumber","allowedTypes","getValue","employeeId","employee_value","exportToExcel","monthName","exportYear","activeType","typeLabel","combinedSet","activeSet","size","t","workbook","ExcelJS","worksheet","addWorksheet","employeeNames","allHeaders","headerRow","addRow","eachCell","cell","font","bold","fill","pattern","fgColor","argb","border","prod","employeeValues","totalEmpValue","totalEmpFormatted","employeeValueCells","fullRow","excelRow","abs","colNum","alignment","vertical","horizontal","doors1p","doors15p","doors2p","door1pStats","door15pStats","door2pStats","summaryHeader","getCell","summaryTableHeaders","summaryHeaderRow","addSummaryRow","italic","totalRow","detailHeader","detailHeaders","detailHeaderRow","groupAggregates","agg","columns","column","maxLength","includeEmpty","buffer","xlsx","writeBuffer","blob","Blob","url","URL","createObjectURL","createElement","download","click","revokeObjectURL","for","y","SummaryReport","_createBlock","EditProductModal","onClose","onCancel","fetchTemplates","handleCreate","coefficients","addEmployer","is_active","loadCoefficient","loadEmployees","saveCoefficient","saveEmployees","saveEmployer","coeff","emps","onSubmit","rules","loadTemplate","addOperation","removeOperation","saveTemplate","routes","path","component","OrdersList","OrdersDetails","FormSendPeo","PrintNormOrder","NormOrdersList","EditNormOrder","AssignWorkers","FinalNormOrdersList","AdminPanel","children","redirect","AdminTemplates","AdminEditDataPeo","AdminTemplateEdit","AdminTemplateCreate","createRouter","createWebHistory","app","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","getter","__esModule","d","definition","o","defineProperty","enumerable","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}